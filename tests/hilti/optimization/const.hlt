# @TEST-EXEC: hiltic %INPUT -p -o noopt.hlt -g
# @TEST-EXEC: btest-diff noopt.hlt
#
# @TEST-EXEC: hiltic %INPUT -p -o opt.hlt -D global-optimizer 2>&1 | sort > log
# @TEST-EXEC: btest-diff opt.hlt
# @TEST-EXEC: btest-diff log
#
# @TEST-DOC: Tests optimizations performing constant folding.

module Foo {
import hilti;

global auto t = True;
global auto f = False;

hilti::print(t);
hilti::print(f);

if (t) {
    0;
} else {
    1;
}

if (f) {
    0;
} else {
    1;
}

if (t) {
    2;
}

if (f) {
    3;
}

}
