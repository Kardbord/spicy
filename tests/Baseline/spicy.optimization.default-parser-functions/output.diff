### BTest baseline data generated by btest-diff. Do not edit. Use "btest -U/-u" to update. Requires BTest >= 0.63.
--- ast.0
+++ ast.1
@@ -1,320 +1,21 @@
 [debug/ast-codegen] # foo: AST for codegen
 [debug/ast-codegen]   - Module %1 (default-parser-functions.spicy:11:1-24:3)
-[debug/ast-codegen]       | P0 -> declaration::Type %3 (original %8) <linkage="private">
-[debug/ast-codegen]       | P1 -> declaration::Type %4 (original %11) <linkage="public">
-[debug/ast-codegen]       | P2 -> declaration::Type %5 (original %16) <linkage="public">
-[debug/ast-codegen]       | __register_foo_P1 -> declaration::Function %265 <linkage="init">
-[debug/ast-codegen]       | __register_foo_P2 -> declaration::Function %266 <linkage="init">
-[debug/ast-codegen]       | foo -> declaration::Module %460 <id="foo">
-[debug/ast-codegen]       | hilti -> declaration::ImportedModule %263 <extension=".hlt" path="" scope="-">
-[debug/ast-codegen]       | spicy_rt -> declaration::ImportedModule %264 <extension=".hlt" path="" scope="-">
 [debug/ast-codegen]     - ID <name="foo"> (default-parser-functions.spicy:11:8)
 [debug/ast-codegen]     - statement::Block (default-parser-functions.spicy:11:1-24:3)
-[debug/ast-codegen]     - declaration::Type %3 (original %8) <linkage="private"> (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         | parse1 -> declaration::Function %445 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %446 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %447 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %444 <linkage="private"> (type: value_ref<foo::P0>)
-[debug/ast-codegen]       - ID <name="P0"> (default-parser-functions.spicy:13:6)
-[debug/ast-codegen]       - type::Struct %20 (original %7) (default-parser-functions.spicy:11:12-13:19) (non-const) (top-level scope) (type-id: foo::P0)
+[debug/ast-codegen]     - node::None %3 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - declaration::Type %4 <linkage="public"> (default-parser-functions.spicy:15:1)
+[debug/ast-codegen]       - ID <name="P1"> (default-parser-functions.spicy:15:13)
+[debug/ast-codegen]       - type::Struct %26 (default-parser-functions.spicy:15:1) (non-const) (top-level scope) (type-id: foo::P1)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - ID <name="__str__"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%3"> (type: foo::P0) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::P0">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%283"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - AttributeSet (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Type %4 (original %11) <linkage="public"> (default-parser-functions.spicy:15:1)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %449 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %450 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %451 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %452 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %448 <linkage="private"> (type: value_ref<foo::P1>)
-[debug/ast-codegen]       - ID <name="P1"> (default-parser-functions.spicy:15:13)
-[debug/ast-codegen]       - type::Struct %26 (original %10) (default-parser-functions.spicy:15:1) (non-const) (top-level scope) (type-id: foo::P1)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__str__"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%205"> (type: spicy_rt::Parser) (non-const)
@@ -521,14 +222,9 @@
 [debug/ast-codegen]       - AttributeSet (default-parser-functions.spicy:15:1)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Type %5 (original %16) <linkage="public"> (default-parser-functions.spicy:17:1-24:3)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %454 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %455 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %456 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %457 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %453 <linkage="private"> (type: value_ref<foo::P2>)
+[debug/ast-codegen]     - declaration::Type %5 <linkage="public"> (default-parser-functions.spicy:17:1-24:3)
 [debug/ast-codegen]       - ID <name="P2"> (default-parser-functions.spicy:17:13)
-[debug/ast-codegen]       - type::Struct %32 (original %15) (default-parser-functions.spicy:17:1-24:3) (non-const) (top-level scope) (type-id: foo::P2)
+[debug/ast-codegen]       - type::Struct %32 (default-parser-functions.spicy:17:1-24:3) (non-const) (top-level scope) (type-id: foo::P2)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:20:5)
 [debug/ast-codegen]           - ID <name="x"> (default-parser-functions.spicy:20:5)
@@ -538,18 +234,7 @@
 [debug/ast-codegen]             - Attribute <tag="&optional">
 [debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]           - ID <name="__on_x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]               - ID <name="__dd">
-[debug/ast-codegen]               - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:21:5)
 [debug/ast-codegen]           - ID <name="y"> (default-parser-functions.spicy:21:5)
 [debug/ast-codegen]           - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:21:8) (non-const)
@@ -570,22 +255,8 @@
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]           - ID <name="__on_0x25_error"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
@@ -594,87 +265,12 @@
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__str__"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__begin">
 [debug/ast-codegen]           - type::Optional (non-const)
@@ -909,871 +505,15 @@
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::ImportedModule %263 <extension=".hlt" path="" scope="-"> (default-parser-functions.spicy:11:1-24:3)
-[debug/ast-codegen]         | AddressFamily -> declaration::Type %155 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %140 <linkage="public">
-[debug/ast-codegen]         | ByteOrder -> declaration::Type %144 <linkage="public">
-[debug/ast-codegen]         | Captures -> declaration::Type %267 <linkage="public">
-[debug/ast-codegen]         | Charset -> declaration::Type %168 <linkage="public">
-[debug/ast-codegen]         | Exception -> declaration::Type %277 <linkage="public">
-[debug/ast-codegen]         | MatchState -> declaration::Type %172 <linkage="public">
-[debug/ast-codegen]         | Protocol -> declaration::Type %163 <linkage="public">
-[debug/ast-codegen]         | RealType -> declaration::Type %159 <linkage="public">
-[debug/ast-codegen]         | RuntimeError -> declaration::Type %278 <linkage="public">
-[debug/ast-codegen]         | Side -> declaration::Type %150 <linkage="public">
-[debug/ast-codegen]         | abort -> declaration::Function %275 <linkage="public">
-[debug/ast-codegen]         | current_time -> declaration::Function %273 <linkage="public">
-[debug/ast-codegen]         | debug -> declaration::Function %270 <linkage="public">
-[debug/ast-codegen]         | debugDedent -> declaration::Function %272 <linkage="public">
-[debug/ast-codegen]         | debugIndent -> declaration::Function %271 <linkage="public">
-[debug/ast-codegen]         | hilti -> declaration::Module %487 <id="hilti">
-[debug/ast-codegen]         | linker_scope -> declaration::Function %276 <linkage="public">
-[debug/ast-codegen]         | mktime -> declaration::Function %274 <linkage="public">
-[debug/ast-codegen]         | print -> declaration::Function %268 <linkage="public">
-[debug/ast-codegen]         | printValues -> declaration::Function %269 <linkage="public">
 [debug/ast-codegen]       - ID <name="hilti"> (default-parser-functions.spicy:11:1-24:3)
 [debug/ast-codegen]     - declaration::ImportedModule %264 <extension=".hlt" path="" scope="-"> (default-parser-functions.spicy:11:1-24:3)
-[debug/ast-codegen]         | Backtrack -> declaration::Type %280 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %251 <linkage="public">
-[debug/ast-codegen]         | Direction -> declaration::Type %207 <linkage="public">
-[debug/ast-codegen]         | Filters -> declaration::Type %286 <linkage="public">
-[debug/ast-codegen]         | FindDirection -> declaration::Type %296 <linkage="public">
-[debug/ast-codegen]         | Forward -> declaration::Type %287 <linkage="public">
-[debug/ast-codegen]         | HiltiResumable -> declaration::Type %285 <linkage="public">
-[debug/ast-codegen]         | MIMEType -> declaration::Type %297 <linkage="public">
-[debug/ast-codegen]         | ParseError -> declaration::Type %279 <linkage="public">
-[debug/ast-codegen]         | ParsedUnit -> declaration::Type %283 <linkage="public">
-[debug/ast-codegen]         | Parser -> declaration::Type %205 <linkage="public">
-[debug/ast-codegen]         | ParserPort -> declaration::Type %298 <linkage="public">
-[debug/ast-codegen]         | Sink -> declaration::Type %189 <linkage="public">
-[debug/ast-codegen]         | SinkState -> declaration::Type %282 <linkage="public">
-[debug/ast-codegen]         | TypeInfo -> declaration::Type %284 <linkage="public">
-[debug/ast-codegen]         | UnitAlreadyConnected -> declaration::Type %281 <linkage="public">
-[debug/ast-codegen]         | UnitContext -> declaration::Type %293 <linkage="public">
-[debug/ast-codegen]         | atEod -> declaration::Function %306 <linkage="public">
-[debug/ast-codegen]         | backtrack -> declaration::Function %308 <linkage="public">
-[debug/ast-codegen]         | createContext -> declaration::Function %294 <linkage="public">
-[debug/ast-codegen]         | extractBits -> declaration::Function %309 <linkage="public">
-[debug/ast-codegen]         | filter_connect -> declaration::Function %289 <linkage="public">
-[debug/ast-codegen]         | filter_disconnect -> declaration::Function %290 <linkage="public">
-[debug/ast-codegen]         | filter_forward -> declaration::Function %291 <linkage="public">
-[debug/ast-codegen]         | filter_forward_eod -> declaration::Function %292 <linkage="public">
-[debug/ast-codegen]         | filter_init -> declaration::Function %288 <linkage="public">
-[debug/ast-codegen]         | initializeParsedUnit -> declaration::Function %310 <linkage="public">
-[debug/ast-codegen]         | printParserState -> declaration::Function %300 <linkage="public">
-[debug/ast-codegen]         | registerParser -> declaration::Function %299 <linkage="public">
-[debug/ast-codegen]         | setContext -> declaration::Function %295 <linkage="public">
-[debug/ast-codegen]         | spicy_rt -> declaration::Module %497 <id="spicy_rt">
-[debug/ast-codegen]         | unit_find -> declaration::Function %307 <linkage="public">
-[debug/ast-codegen]         | waitForEod -> declaration::Function %305 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %303 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %304 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %301 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %302 <linkage="public">
 [debug/ast-codegen]       - ID <name="spicy_rt"> (default-parser-functions.spicy:11:1-24:3)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]         | parse1 -> declaration::Function %445 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %446 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %447 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %444 <linkage="private"> (type: value_ref<foo::P0>)
-[debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %37 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %36 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %39 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %40 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %38 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::P0::__parse_stage1"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %36 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %37 <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %38 <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %39 <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %40 <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %41 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %41 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%270"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::P0">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%271"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                     - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - statement::Expression (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                     - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%272"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%41"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%37"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%39"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%40"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                 - statement::Expression (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%41"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           | context -> declaration::Parameter %44 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %43 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %42 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::P0::parse1"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %42 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %43 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %44 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %47 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %48 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %46 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %45 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %45 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%3"> (type: foo::P0) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::P0">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %46 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%43"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%43"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%42"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %47 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %48 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%300"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::P0">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%42"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%46"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%47"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%48"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%270"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%271"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%46"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%47"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%48"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%45"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%42"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%46"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%47"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%48"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%272"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%46"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           | context -> declaration::Parameter %52 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %51 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %50 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %49 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::P0::parse3"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %49 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%283"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %50 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %51 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %52 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %55 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %56 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %54 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %53 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %53 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%3"> (type: foo::P0) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::P0">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%310"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%49"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%53"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%3"> (type: foo::P0) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::P0"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %54 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%51"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%51"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%50"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %55 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %56 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%300"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::P0">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%50"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%54"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%55"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%56"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%270"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%271"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%54"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%55"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%56"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%53"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%50"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%54"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%55"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%56"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%272"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%54"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           | context -> declaration::Parameter %60 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %59 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %58 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %57 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::P0::parse2"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - type::stream::View (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %57 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%3"> (type: foo::P0) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::P0">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %58 <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %59 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %60 <is_struct_param="false" kind="in"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %62 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %63 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %61 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %61 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%59"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%59"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%58"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %62 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %63 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%300"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::P0">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%58"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%61"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%62"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%63"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%270"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%271"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%61"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%62"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%63"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%57"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                     - type::function::Result (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%58"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%61"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%62"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%63"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%272"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_P0 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%61"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %449 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %450 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %451 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %452 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %448 <linkage="private"> (type: value_ref<foo::P1>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %65 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %64 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %67 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %68 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %66 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::P1::__parse_stage1"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:15:18)
@@ -1805,7 +545,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %69 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %69 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -1838,23 +577,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                   - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                       - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                   - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                     - ctor::Tuple (default-parser-functions.spicy:15:18)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %70
-[debug/ast-codegen]                   | filtered -> declaration::Forward %458 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (default-parser-functions.spicy:11:12-13:19)
@@ -1875,7 +601,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %72 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %72 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -2069,21 +794,9 @@
 [debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                       - ctor::Tuple (default-parser-functions.spicy:15:18)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -2094,39 +807,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]                 - statement::Expression (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                       - ctor::Tuple (default-parser-functions.spicy:15:18)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:15:18)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%69"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -2134,17 +823,7 @@
 [debug/ast-codegen]           - Attribute <tag="&always-emit">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %449 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %450 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %451 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %452 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %448 <linkage="private"> (type: value_ref<foo::P1>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %74 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %73 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %76 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %77 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %75 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::P1::__parse_foo_P1_stage2"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:15:18)
@@ -2176,7 +855,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %78 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %78 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -2187,21 +865,9 @@
 [debug/ast-codegen]                 - type::stream::Iterator (non-const)
 [debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:15:18)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -2240,9 +906,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           | context -> declaration::Parameter %81 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %80 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %79 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P1::parse1"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:15:18)
@@ -2269,10 +932,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %84 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %85 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %83 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %82 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %82 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -2436,10 +1095,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           | context -> declaration::Parameter %89 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %88 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %87 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %86 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P1::parse3"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:15:18)
@@ -2472,10 +1127,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %92 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %93 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %91 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %90 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %90 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -2656,10 +1307,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]           | context -> declaration::Parameter %97 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %96 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %95 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %94 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P1::parse2"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:15:18) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:15:18)
@@ -2692,9 +1339,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %99 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %100 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %98 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %98 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -3008,13 +1652,7 @@
 [debug/ast-codegen]                         - ID <name="foo::P1"> (default-parser-functions.spicy:15:18)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %454 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %455 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %456 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %457 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %453 <linkage="private"> (type: value_ref<foo::P2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]           | __dd -> declaration::Parameter %101 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="foo::P2::__on_y"> (default-parser-functions.spicy:21:13)
 [debug/ast-codegen]         - type::Function <flavor="hook"> (default-parser-functions.spicy:21:13) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:21:13)
@@ -3026,11 +1664,6 @@
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:21:14)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:23:5)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %454 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %455 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %456 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %457 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %453 <linkage="private"> (type: value_ref<foo::P2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:23:5)
 [debug/ast-codegen]         - ID <name="foo::P2::__on_0x25_error"> (default-parser-functions.spicy:23:5)
 [debug/ast-codegen]         - type::Function <flavor="hook"> (default-parser-functions.spicy:23:5) (non-const)
@@ -3039,17 +1672,7 @@
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:23:15)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %454 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %455 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %456 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %457 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %453 <linkage="private"> (type: value_ref<foo::P2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %103 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %102 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %105 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %106 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %104 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::P2::__parse_stage1"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:17:18-24:2)
@@ -3081,7 +1704,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %107 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %107 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -3173,21 +1795,9 @@
 [debug/ast-codegen]                     - ctor::Optional
 [debug/ast-codegen]                       - type::stream::Iterator (non-const)
 [debug/ast-codegen]               - statement::Expression (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                   - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                   - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If
 [debug/ast-codegen]                 - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]                 - expression::Coerced (non-const)
@@ -3253,7 +1863,6 @@
 [debug/ast-codegen]                           - type::stream::Iterator (non-const)
 [debug/ast-codegen]                 - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]               - statement::If %108
-[debug/ast-codegen]                   | filtered -> declaration::Forward %459 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (default-parser-functions.spicy:11:12-13:19)
@@ -3274,7 +1883,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %110 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %110 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -3531,21 +2139,9 @@
 [debug/ast-codegen]                       - ctor::Optional
 [debug/ast-codegen]                         - type::stream::Iterator (non-const)
 [debug/ast-codegen]                 - statement::Expression (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::If
 [debug/ast-codegen]                   - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]                   - expression::Coerced (non-const)
@@ -3630,21 +2226,9 @@
 [debug/ast-codegen]                 - ctor::Optional
 [debug/ast-codegen]                   - type::stream::Iterator (non-const)
 [debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::If
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]             - expression::Coerced (non-const)
@@ -3716,17 +2300,7 @@
 [debug/ast-codegen]           - Attribute <tag="&always-emit">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %454 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %455 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %456 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %457 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %453 <linkage="private"> (type: value_ref<foo::P2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %112 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %111 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %114 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %115 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %113 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::P2::__parse_foo_P2_stage2"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:17:18-24:2)
@@ -3758,7 +2332,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %116 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %116 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -4005,37 +2578,9 @@
 [debug/ast-codegen]                 - ctor::Optional
 [debug/ast-codegen]                   - type::stream::Iterator (non-const)
 [debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]             - operator_::struct_::MemberCall %442 <kind="method call"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]                 - ID <name="__on_x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                   - declaration::Parameter <is_struct_param="false" kind="in"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                     - ID <name="__dd">
-[debug/ast-codegen]                     - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]                     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                   - operator_::struct_::MemberNonConst <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]                       - ID <name="x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
-[debug/ast-codegen]                       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
+[debug/ast-codegen]             - expression::Ctor %442 (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::If
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]             - expression::Coerced (non-const)
@@ -4471,21 +3016,9 @@
 [debug/ast-codegen]                 - ctor::Optional
 [debug/ast-codegen]                   - type::stream::Iterator (non-const)
 [debug/ast-codegen]           - statement::Expression (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]               - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]               - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::If
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]             - expression::Coerced (non-const)
@@ -4588,9 +3121,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %119 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %118 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %117 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P2::parse1"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:17:18-24:2)
@@ -4617,10 +3147,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %122 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %123 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %121 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %120 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %120 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -4805,10 +3331,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %127 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %126 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %125 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %124 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P2::parse3"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:17:18-24:2)
@@ -4841,10 +3363,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %130 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %131 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %129 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %128 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %128 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -5046,10 +3564,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]       - Function <cc="extern"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %135 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %134 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %133 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %132 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::P2::parse2"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:17:18-24:2)
@@ -5082,9 +3596,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %137 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %138 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %136 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %136 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -5418,1023 +3929,11 @@
 [debug/ast-codegen]                       - type::ResolvedID <resolved="%5"> (type: foo::P2) (default-parser-functions.spicy:17:18-24:2) (non-const)
 [debug/ast-codegen]                         - ID <name="foo::P2"> (default-parser-functions.spicy:17:18-24:2)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen] # foo: Preserved nodes
-[debug/ast-codegen]   - declaration::Type %6 <linkage="private"> (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - ID <name="P0"> (default-parser-functions.spicy:13:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (default-parser-functions.spicy:13:11) (non-const) (top-level scope) (type-id: foo::P0)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - spicy::type::Unit %7 <public="false"> (default-parser-functions.spicy:13:11) (non-const) (top-level scope) (type-id: foo::P0)
-[debug/ast-codegen]   - declaration::Type %8 (original %6) <linkage="private"> (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - ID <name="P0"> (default-parser-functions.spicy:13:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (default-parser-functions.spicy:13:11) (non-const) (top-level scope) (type-id: foo::P0)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - declaration::Type %9 <linkage="public"> (default-parser-functions.spicy:15:1)
-[debug/ast-codegen]     - ID <name="P1"> (default-parser-functions.spicy:15:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (default-parser-functions.spicy:15:18) (non-const) (top-level scope) (type-id: foo::P1)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - spicy::type::Unit %10 <public="true"> (default-parser-functions.spicy:15:18) (non-const) (top-level scope) (type-id: foo::P1)
-[debug/ast-codegen]   - declaration::Type %11 (original %9) <linkage="public"> (default-parser-functions.spicy:15:1)
-[debug/ast-codegen]     - ID <name="P1"> (default-parser-functions.spicy:15:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (default-parser-functions.spicy:15:18) (non-const) (top-level scope) (type-id: foo::P1)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - declaration::Type %12 <linkage="public"> (default-parser-functions.spicy:17:1-24:3)
-[debug/ast-codegen]     - ID <name="P2"> (default-parser-functions.spicy:17:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (default-parser-functions.spicy:17:18-24:2) (non-const) (top-level scope) (type-id: foo::P2)
-[debug/ast-codegen]       - spicy::type::unit::item::Property <inherited="false"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - ID <name="%random-access"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - ID <name="x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:20:8) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]         - ID <name="y"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]         - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:21:8) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]           - ID <name="<hook>"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]               - type::Void (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]           - statement::Block (default-parser-functions.spicy:21:14)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::UnitHook (default-parser-functions.spicy:23:5)
-[debug/ast-codegen]         - ID <name="0x25_error"> (default-parser-functions.spicy:23:7)
-[debug/ast-codegen]         - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]           - ID <name="<hook>"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]               - type::Void (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]           - statement::Block (default-parser-functions.spicy:23:15)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - spicy::type::Unit %15 <public="true"> (default-parser-functions.spicy:17:18-24:2) (non-const) (top-level scope) (type-id: foo::P2)
-[debug/ast-codegen]     - spicy::type::unit::item::Property <inherited="false"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]       - ID <name="%random-access"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]       - ID <name="x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]       - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:20:8) (non-const)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]       - ID <name="y"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]       - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:21:8) (non-const)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]         - ID <name="<hook>"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]         - type::Function <flavor="hook"> (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]             - type::Void (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:21:14)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - spicy::type::unit::item::UnitHook (default-parser-functions.spicy:23:5)
-[debug/ast-codegen]       - ID <name="0x25_error"> (default-parser-functions.spicy:23:7)
-[debug/ast-codegen]       - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]         - ID <name="<hook>"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]         - type::Function <flavor="hook"> (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]             - type::Void (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]         - statement::Block (default-parser-functions.spicy:23:15)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - declaration::Type %16 (original %12) <linkage="public"> (default-parser-functions.spicy:17:1-24:3)
-[debug/ast-codegen]     - ID <name="P2"> (default-parser-functions.spicy:17:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (default-parser-functions.spicy:17:18-24:2) (non-const) (top-level scope) (type-id: foo::P2)
-[debug/ast-codegen]       - spicy::type::unit::item::Property <inherited="false"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - ID <name="%random-access"> (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:18:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %13 <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - ID <name="x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:20:8) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %14 <engine="parser/composer" forwarding="false" transient="false"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]         - ID <name="y"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]         - type::UnsignedInteger <width="8"> (default-parser-functions.spicy:21:8) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]           - ID <name="<hook>"> (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:21:13)
-[debug/ast-codegen]               - type::Void (default-parser-functions.spicy:21:13) (non-const)
-[debug/ast-codegen]           - statement::Block (default-parser-functions.spicy:21:14)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]       - spicy::type::unit::item::UnitHook (default-parser-functions.spicy:23:5)
-[debug/ast-codegen]         - ID <name="0x25_error"> (default-parser-functions.spicy:23:7)
-[debug/ast-codegen]         - spicy::Hook <cc="<standard>" engine="parser"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]           - ID <name="<hook>"> (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (default-parser-functions.spicy:23:14)
-[debug/ast-codegen]               - type::Void (default-parser-functions.spicy:23:14) (non-const)
-[debug/ast-codegen]           - statement::Block (default-parser-functions.spicy:23:15)
-[debug/ast-codegen]           - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %311 <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]   - expression::UnresolvedOperator %312 <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]   - expression::UnresolvedOperator %313 <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]   - expression::UnresolvedOperator %314 <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]   - expression::UnresolvedOperator %315 <kind="method call"> (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%19"> (type: value_ref<foo::P0>) (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:13:11) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:13:11) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:13:11)
-[debug/ast-codegen]   - expression::UnresolvedOperator %316 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%45"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%42"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%46"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%47"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%48"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %317 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%53"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%50"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%54"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%55"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%56"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %318 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%57"> (type: value_ref<foo::P0>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%58"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%61"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%62"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%63"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %319 <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]   - expression::UnresolvedOperator %320 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_P1_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_P1_stage2">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%72"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%72"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%66"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %321 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%64"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%65"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %322 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_P1_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_P1_stage2">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%64"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%65"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%66"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %323 <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]   - expression::UnresolvedOperator %324 <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]   - expression::UnresolvedOperator %325 <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]   - expression::UnresolvedOperator %326 <kind="method call"> (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%24"> (type: value_ref<foo::P1>) (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:15:18) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:15:18) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:15:18)
-[debug/ast-codegen]   - expression::UnresolvedOperator %327 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%82"> (type: value_ref<foo::P1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%79"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%83"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%84"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%85"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %328 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%90"> (type: value_ref<foo::P1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%87"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%91"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%92"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%93"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %329 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%94"> (type: value_ref<foo::P1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%95"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%98"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%99"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%100"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %330 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__begin">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__begin">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %331 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %332 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %333 <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %334 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %335 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %336 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %337 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_P2_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_P2_stage2">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%110"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%110"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%104"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%105"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%106"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %338 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%102"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%103"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %339 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_P2_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_P2_stage2">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%102"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%103"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%104"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%105"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%106"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %340 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %341 <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %342 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %343 <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %344 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %345 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %346 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %347 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %348 <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %349 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %350 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %351 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %352 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %353 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__filters">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__filters">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %354 <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %355 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%111"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%112"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %356 <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %357 <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %358 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %359 <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %360 <kind="method call"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ID <name="__on_x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]         - ID <name="__on_x">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]         - operator_::struct_::MemberNonConst <kind="."> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]               - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]           - expression::Member (default-parser-functions.spicy:20:5) (const)
-[debug/ast-codegen]             - ID <name="x"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]             - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]             - type::Member (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]   - expression::UnresolvedOperator %361 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %362 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %363 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %364 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %365 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__filters">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__filters">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %366 <kind="."> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ID <name="y">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]         - ID <name="y">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %367 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%111"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%112"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %368 <kind="."> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ID <name="y">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]         - ID <name="y">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %369 <kind="."> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ID <name="y">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]         - ID <name="y">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %370 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %371 <kind="."> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ID <name="y">
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]         - ID <name="y">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %372 <kind="method call"> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ID <name="__on_y"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]         - ID <name="__on_y">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]         - operator_::struct_::MemberNonConst <kind="."> (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - operator_::value_reference::Deref <kind="*"> (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]               - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]           - expression::Member (default-parser-functions.spicy:21:5) (const)
-[debug/ast-codegen]             - ID <name="y"> (default-parser-functions.spicy:21:5)
-[debug/ast-codegen]             - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]               - ID <name="y">
-[debug/ast-codegen]             - type::Member (default-parser-functions.spicy:21:5) (non-const)
-[debug/ast-codegen]               - ID <name="y">
-[debug/ast-codegen]   - expression::UnresolvedOperator %373 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %374 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %375 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %376 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %377 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %378 <kind="method call"> (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]       - type::Member (default-parser-functions.spicy:17:18-24:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (default-parser-functions.spicy:17:18-24:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (default-parser-functions.spicy:17:18-24:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %379 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %380 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %381 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%30"> (type: value_ref<foo::P2>) (default-parser-functions.spicy:20:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (default-parser-functions.spicy:20:5)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position_update">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position_update">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %382 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%120"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %383 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%120"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%117"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%121"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%122"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%123"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %384 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%128"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %385 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%128"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%125"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%129"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%130"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%131"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %386 <kind="."> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%132"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__position">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__position">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]   - expression::UnresolvedOperator %387 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%132"> (type: value_ref<foo::P2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%133"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%136"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%137"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%138"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
 [debug/ast-codegen] # hilti: AST for codegen
 [debug/ast-codegen]   - Module %17 (hilti.hlt:2:1-38:2)
-[debug/ast-codegen]       | AddressFamily -> declaration::Type %155 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %140 <linkage="public">
-[debug/ast-codegen]       | ByteOrder -> declaration::Type %144 <linkage="public">
-[debug/ast-codegen]       | Captures -> declaration::Type %267 <linkage="public">
-[debug/ast-codegen]       | Charset -> declaration::Type %168 <linkage="public">
-[debug/ast-codegen]       | Exception -> declaration::Type %277 <linkage="public">
-[debug/ast-codegen]       | MatchState -> declaration::Type %172 <linkage="public">
-[debug/ast-codegen]       | Protocol -> declaration::Type %163 <linkage="public">
-[debug/ast-codegen]       | RealType -> declaration::Type %159 <linkage="public">
-[debug/ast-codegen]       | RuntimeError -> declaration::Type %278 <linkage="public">
-[debug/ast-codegen]       | Side -> declaration::Type %150 <linkage="public">
-[debug/ast-codegen]       | abort -> declaration::Function %275 <linkage="public">
-[debug/ast-codegen]       | current_time -> declaration::Function %273 <linkage="public">
-[debug/ast-codegen]       | debug -> declaration::Function %270 <linkage="public">
-[debug/ast-codegen]       | debugDedent -> declaration::Function %272 <linkage="public">
-[debug/ast-codegen]       | debugIndent -> declaration::Function %271 <linkage="public">
-[debug/ast-codegen]       | hilti -> declaration::Module %487 <id="hilti">
-[debug/ast-codegen]       | linker_scope -> declaration::Function %276 <linkage="public">
-[debug/ast-codegen]       | mktime -> declaration::Function %274 <linkage="public">
-[debug/ast-codegen]       | print -> declaration::Function %268 <linkage="public">
-[debug/ast-codegen]       | printValues -> declaration::Function %269 <linkage="public">
 [debug/ast-codegen]     - ID <name="hilti"> (hilti.hlt:2:8)
 [debug/ast-codegen]     - statement::Block (hilti.hlt:2:1-38:2)
 [debug/ast-codegen]     - declaration::Type %140 <linkage="public"> (hilti.hlt:4:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %461 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %462 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %463 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (hilti.hlt:4:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:4:24) (non-const) (type-id: hilti::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:4:31)
@@ -6448,11 +3947,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:4:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (hilti.hlt:4:53)
 [debug/ast-codegen]     - declaration::Type %144 <linkage="public"> (hilti.hlt:5:1)
-[debug/ast-codegen]         | Big -> declaration::Constant %465 <linkage="public">
-[debug/ast-codegen]         | Host -> declaration::Constant %467 <linkage="public">
-[debug/ast-codegen]         | Little -> declaration::Constant %464 <linkage="public">
-[debug/ast-codegen]         | Network -> declaration::Constant %466 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %468 <linkage="public">
 [debug/ast-codegen]       - ID <name="ByteOrder"> (hilti.hlt:5:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:5:25) (non-const) (type-id: hilti::ByteOrder) (cxx-id: hilti::rt::ByteOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:5:32)
@@ -6470,10 +3964,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:5:70) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::ByteOrder"> (hilti.hlt:5:70)
 [debug/ast-codegen]     - declaration::Type %150 <linkage="public"> (hilti.hlt:6:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %471 <linkage="public">
-[debug/ast-codegen]         | Left -> declaration::Constant %469 <linkage="public">
-[debug/ast-codegen]         | Right -> declaration::Constant %470 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %472 <linkage="public">
 [debug/ast-codegen]       - ID <name="Side"> (hilti.hlt:6:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:6:20) (non-const) (type-id: hilti::Side) (cxx-id: hilti::rt::bytes::Side)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:6:27)
@@ -6489,9 +3979,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:6:56) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::bytes::Side"> (hilti.hlt:6:56)
 [debug/ast-codegen]     - declaration::Type %155 <linkage="public"> (hilti.hlt:7:1)
-[debug/ast-codegen]         | IPv4 -> declaration::Constant %473 <linkage="public">
-[debug/ast-codegen]         | IPv6 -> declaration::Constant %474 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %475 <linkage="public">
 [debug/ast-codegen]       - ID <name="AddressFamily"> (hilti.hlt:7:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:7:29) (non-const) (type-id: hilti::AddressFamily) (cxx-id: hilti::rt::AddressFamily)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:7:36)
@@ -6505,9 +3992,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:7:58) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::AddressFamily"> (hilti.hlt:7:58)
 [debug/ast-codegen]     - declaration::Type %159 <linkage="public"> (hilti.hlt:8:1)
-[debug/ast-codegen]         | IEEE754_Double -> declaration::Constant %477 <linkage="public">
-[debug/ast-codegen]         | IEEE754_Single -> declaration::Constant %476 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %478 <linkage="public">
 [debug/ast-codegen]       - ID <name="RealType"> (hilti.hlt:8:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:8:24) (non-const) (type-id: hilti::RealType) (cxx-id: hilti::rt::real::Type)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:8:31)
@@ -6521,10 +4005,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:8:73) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::real::Type"> (hilti.hlt:8:73)
 [debug/ast-codegen]     - declaration::Type %163 <linkage="public"> (hilti.hlt:9:1)
-[debug/ast-codegen]         | ICMP -> declaration::Constant %481 <linkage="public">
-[debug/ast-codegen]         | TCP -> declaration::Constant %479 <linkage="public">
-[debug/ast-codegen]         | UDP -> declaration::Constant %480 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %482 <linkage="public">
 [debug/ast-codegen]       - ID <name="Protocol"> (hilti.hlt:9:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:9:24) (non-const) (type-id: hilti::Protocol) (cxx-id: hilti::rt::Protocol)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:9:31)
@@ -6540,9 +4020,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:9:57) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::Protocol"> (hilti.hlt:9:57)
 [debug/ast-codegen]     - declaration::Type %168 <linkage="public"> (hilti.hlt:10:1)
-[debug/ast-codegen]         | ASCII -> declaration::Constant %483 <linkage="public">
-[debug/ast-codegen]         | UTF8 -> declaration::Constant %484 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %485 <linkage="public">
 [debug/ast-codegen]       - ID <name="Charset"> (hilti.hlt:10:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:10:23) (non-const) (type-id: hilti::Charset) (cxx-id: hilti::rt::bytes::Charset)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:10:30)
@@ -6561,7 +4038,6 @@
 [debug/ast-codegen]         - type::Bytes (hilti.hlt:11:31) (non-const)
 [debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Type %172 <linkage="public"> (hilti.hlt:13:1-15:44)
-[debug/ast-codegen]         | self -> declaration::Expression %486 <linkage="private"> (type: value_ref<hilti::MatchState>)
 [debug/ast-codegen]       - ID <name="MatchState"> (hilti.hlt:13:13)
 [debug/ast-codegen]       - type::Struct (hilti.hlt:13:26-15:2) (non-const) (top-level scope) (type-id: hilti::MatchState) (cxx-id: hilti::rt::regexp::MatchState)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
@@ -6582,58 +4058,10 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (hilti.hlt:15:3)
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:15:12) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::regexp::MatchState"> (hilti.hlt:15:12)
-[debug/ast-codegen]     - declaration::Function %268 <linkage="public"> (hilti.hlt:17:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:17:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %175 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %174 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="print"> (hilti.hlt:17:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:17:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:17:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:17:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %174 <is_struct_param="false" kind="in"> (hilti.hlt:17:27)
-[debug/ast-codegen]             - ID <name="obj"> (hilti.hlt:17:31)
-[debug/ast-codegen]             - type::Any (hilti.hlt:17:27) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %175 <is_struct_param="false" kind="in"> (hilti.hlt:17:35)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:17:41)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:17:36) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:51) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:17:51)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:17:57)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:17:57)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:66) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::print"> (hilti.hlt:17:66)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:17:85)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %269 <linkage="public"> (hilti.hlt:18:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:18:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %177 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | t -> declaration::Parameter %176 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="printValues"> (hilti.hlt:18:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:18:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:18:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:18:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %176 <is_struct_param="false" kind="in"> (hilti.hlt:18:33)
-[debug/ast-codegen]             - ID <name="t"> (hilti.hlt:18:42)
-[debug/ast-codegen]             - type::Tuple <wildcard="true"> (hilti.hlt:18:33) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %177 <is_struct_param="false" kind="in"> (hilti.hlt:18:44)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:18:50)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:18:45) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:60) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:18:60)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:18:66)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:18:66)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:75) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::printValues"> (hilti.hlt:18:75)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:18:100)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %268 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %269 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %270 <linkage="public"> (hilti.hlt:20:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:20:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %178 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %179 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debug"> (hilti.hlt:20:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:20:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:20:16)
@@ -6655,7 +4083,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %271 <linkage="public"> (hilti.hlt:21:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:21:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %180 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugIndent"> (hilti.hlt:21:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:21:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:21:16)
@@ -6673,7 +4100,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %272 <linkage="public"> (hilti.hlt:22:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:22:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %181 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugDedent"> (hilti.hlt:22:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:22:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:22:16)
@@ -6689,75 +4115,9 @@
 [debug/ast-codegen]               - ctor::String <value="hilti::rt::debug::dedent"> (hilti.hlt:22:61)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:22:88)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %273 <linkage="public"> (hilti.hlt:24:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:24:15)
-[debug/ast-codegen]         - ID <name="current_time"> (hilti.hlt:24:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:24:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:24:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:24:16) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:24:36)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:24:36)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:24:45) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::current_time"> (hilti.hlt:24:45)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:24:77)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %274 <linkage="public"> (hilti.hlt:25:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:25:15)
-[debug/ast-codegen]           | H -> declaration::Parameter %185 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | M -> declaration::Parameter %186 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | S -> declaration::Parameter %187 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | d -> declaration::Parameter %184 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | m -> declaration::Parameter %183 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | y -> declaration::Parameter %182 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="mktime"> (hilti.hlt:25:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:25:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:25:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:25:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %182 <is_struct_param="false" kind="in"> (hilti.hlt:25:28)
-[debug/ast-codegen]             - ID <name="y"> (hilti.hlt:25:37)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:28) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %183 <is_struct_param="false" kind="in"> (hilti.hlt:25:39)
-[debug/ast-codegen]             - ID <name="m"> (hilti.hlt:25:49)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:40) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %184 <is_struct_param="false" kind="in"> (hilti.hlt:25:51)
-[debug/ast-codegen]             - ID <name="d"> (hilti.hlt:25:61)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:52) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %185 <is_struct_param="false" kind="in"> (hilti.hlt:25:63)
-[debug/ast-codegen]             - ID <name="H"> (hilti.hlt:25:73)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:64) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %186 <is_struct_param="false" kind="in"> (hilti.hlt:25:75)
-[debug/ast-codegen]             - ID <name="M"> (hilti.hlt:25:85)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:76) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %187 <is_struct_param="false" kind="in"> (hilti.hlt:25:87)
-[debug/ast-codegen]             - ID <name="S"> (hilti.hlt:25:97)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:88) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:25:100)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:25:100)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:25:109) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::mktime"> (hilti.hlt:25:109)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:25:135)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %275 <linkage="public"> (hilti.hlt:27:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:27:15)
-[debug/ast-codegen]         - ID <name="abort"> (hilti.hlt:27:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:27:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:27:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:27:16) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:27:29)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:27:29)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:27:38) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::abort_with_backtrace"> (hilti.hlt:27:38)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:27:72)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %273 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %274 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %275 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %276 <linkage="public"> (hilti.hlt:29:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:29:15)
 [debug/ast-codegen]         - ID <name="linker_scope"> (hilti.hlt:29:23)
@@ -6789,43 +4149,6 @@
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::RuntimeError"> (hilti.hlt:36:47)
 [debug/ast-codegen] # spicy_rt: AST for codegen
 [debug/ast-codegen]   - Module %18 (spicy_rt.hlt:1:1-85:2)
-[debug/ast-codegen]       | Backtrack -> declaration::Type %280 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %251 <linkage="public">
-[debug/ast-codegen]       | Direction -> declaration::Type %207 <linkage="public">
-[debug/ast-codegen]       | Filters -> declaration::Type %286 <linkage="public">
-[debug/ast-codegen]       | FindDirection -> declaration::Type %296 <linkage="public">
-[debug/ast-codegen]       | Forward -> declaration::Type %287 <linkage="public">
-[debug/ast-codegen]       | HiltiResumable -> declaration::Type %285 <linkage="public">
-[debug/ast-codegen]       | MIMEType -> declaration::Type %297 <linkage="public">
-[debug/ast-codegen]       | ParseError -> declaration::Type %279 <linkage="public">
-[debug/ast-codegen]       | ParsedUnit -> declaration::Type %283 <linkage="public">
-[debug/ast-codegen]       | Parser -> declaration::Type %205 <linkage="public">
-[debug/ast-codegen]       | ParserPort -> declaration::Type %298 <linkage="public">
-[debug/ast-codegen]       | Sink -> declaration::Type %189 <linkage="public">
-[debug/ast-codegen]       | SinkState -> declaration::Type %282 <linkage="public">
-[debug/ast-codegen]       | TypeInfo -> declaration::Type %284 <linkage="public">
-[debug/ast-codegen]       | UnitAlreadyConnected -> declaration::Type %281 <linkage="public">
-[debug/ast-codegen]       | UnitContext -> declaration::Type %293 <linkage="public">
-[debug/ast-codegen]       | atEod -> declaration::Function %306 <linkage="public">
-[debug/ast-codegen]       | backtrack -> declaration::Function %308 <linkage="public">
-[debug/ast-codegen]       | createContext -> declaration::Function %294 <linkage="public">
-[debug/ast-codegen]       | extractBits -> declaration::Function %309 <linkage="public">
-[debug/ast-codegen]       | filter_connect -> declaration::Function %289 <linkage="public">
-[debug/ast-codegen]       | filter_disconnect -> declaration::Function %290 <linkage="public">
-[debug/ast-codegen]       | filter_forward -> declaration::Function %291 <linkage="public">
-[debug/ast-codegen]       | filter_forward_eod -> declaration::Function %292 <linkage="public">
-[debug/ast-codegen]       | filter_init -> declaration::Function %288 <linkage="public">
-[debug/ast-codegen]       | initializeParsedUnit -> declaration::Function %310 <linkage="public">
-[debug/ast-codegen]       | printParserState -> declaration::Function %300 <linkage="public">
-[debug/ast-codegen]       | registerParser -> declaration::Function %299 <linkage="public">
-[debug/ast-codegen]       | setContext -> declaration::Function %295 <linkage="public">
-[debug/ast-codegen]       | spicy_rt -> declaration::Module %497 <id="spicy_rt">
-[debug/ast-codegen]       | unit_find -> declaration::Function %307 <linkage="public">
-[debug/ast-codegen]       | waitForEod -> declaration::Function %305 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %303 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %304 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %301 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %302 <linkage="public">
 [debug/ast-codegen]     - ID <name="spicy_rt"> (spicy_rt.hlt:1:8)
 [debug/ast-codegen]     - statement::Block (spicy_rt.hlt:1:1-85:2)
 [debug/ast-codegen]     - declaration::Type %279 <linkage="public"> (spicy_rt.hlt:3:1)
@@ -6865,7 +4188,6 @@
 [debug/ast-codegen]       - type::Library <cxx_name="const hilti::rt::TypeInfo*"> (spicy_rt.hlt:11:24) (non-const) (type-id: spicy_rt::TypeInfo)
 [debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Type %189 <linkage="public"> (spicy_rt.hlt:14:1-29:30)
-[debug/ast-codegen]         | self -> declaration::Expression %488 <linkage="private"> (type: value_ref<spicy_rt::Sink>)
 [debug/ast-codegen]       - ID <name="Sink"> (spicy_rt.hlt:14:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:14:20-29:2) (non-const) (top-level scope) (type-id: spicy_rt::Sink) (cxx-id: spicy::rt::Sink)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
@@ -7067,9 +4389,6 @@
 [debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %288 <linkage="public"> (spicy_rt.hlt:36:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:36:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %193 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %192 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %191 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_init"> (spicy_rt.hlt:36:35)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:36:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:36:16)
@@ -7096,33 +4415,9 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::init"> (spicy_rt.hlt:36:120)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:36:146)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %289 <linkage="public"> (spicy_rt.hlt:37:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:37:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %195 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %194 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_connect"> (spicy_rt.hlt:37:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:37:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:37:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:37:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %194 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:37:36)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:37:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:37:42) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %195 <is_struct_param="false" kind="in"> (spicy_rt.hlt:37:51)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:37:66)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:37:52) (non-const) (wildcard)
-[debug/ast-codegen]               - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:37:74)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:37:74)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:37:83) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::connect"> (spicy_rt.hlt:37:83)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:37:112)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %289 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %290 <linkage="public"> (spicy_rt.hlt:38:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:38:15)
-[debug/ast-codegen]           | unit -> declaration::Parameter %196 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_disconnect"> (spicy_rt.hlt:38:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:38:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:38:16)
@@ -7138,109 +4433,15 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::disconnect"> (spicy_rt.hlt:38:64)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:38:96)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %291 <linkage="public"> (spicy_rt.hlt:39:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:39:15)
-[debug/ast-codegen]           | b -> declaration::Parameter %198 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filter -> declaration::Parameter %197 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_forward"> (spicy_rt.hlt:39:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:39:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:39:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:39:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %197 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:39:36)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:39:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:39:42) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %198 <is_struct_param="false" kind="in"> (spicy_rt.hlt:39:53)
-[debug/ast-codegen]             - ID <name="b"> (spicy_rt.hlt:39:60)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:39:54) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:39:63)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:39:63)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:39:72) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::forward"> (spicy_rt.hlt:39:72)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:39:101)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %292 <linkage="public"> (spicy_rt.hlt:40:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:40:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %199 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_forward_eod"> (spicy_rt.hlt:40:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:40:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:40:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:40:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %199 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:40:40)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:40:50)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:40:46) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:40:58)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:40:58)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:40:67) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::forward_eod"> (spicy_rt.hlt:40:67)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:40:100)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %291 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %292 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Type %293 <linkage="public"> (spicy_rt.hlt:42:1)
 [debug/ast-codegen]       - ID <name="UnitContext"> (spicy_rt.hlt:42:13)
 [debug/ast-codegen]       - type::Library <cxx_name="spicy::rt::UnitContext"> (spicy_rt.hlt:42:27) (non-const) (type-id: spicy_rt::UnitContext)
 [debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %294 <linkage="public"> (spicy_rt.hlt:43:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:43:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %200 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %201 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="createContext"> (spicy_rt.hlt:43:28)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:43:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:43:16)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:43:16) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:43:16)
-[debug/ast-codegen]           - declaration::Parameter %200 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:42)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:43:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:43:42) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %201 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:43:60)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%284"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:43:50) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:43:64)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:43:64)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:43:73) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::createContext"> (spicy_rt.hlt:43:73)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:43:108)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %295 <linkage="public"> (spicy_rt.hlt:44:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:44:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %203 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %204 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %202 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="setContext"> (spicy_rt.hlt:44:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:44:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:44:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:44:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %202 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:44:32)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:44:42)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:44:38) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %203 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:47)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:44:70)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%293"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:44:48)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %204 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:44:84)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%284"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:44:74) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:44:88)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:44:88)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:44:97) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::setContext"> (spicy_rt.hlt:44:97)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:44:129)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %294 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %295 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Type %205 <linkage="public"> (spicy_rt.hlt:48:1-58:32)
-[debug/ast-codegen]         | self -> declaration::Expression %489 <linkage="private"> (type: value_ref<spicy_rt::Parser>)
 [debug/ast-codegen]       - ID <name="Parser"> (spicy_rt.hlt:48:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:48:22-58:2) (non-const) (top-level scope) (type-id: spicy_rt::Parser) (cxx-id: spicy::rt::Parser)
 [debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
@@ -7306,10 +4507,6 @@
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:58:12) (const)
 [debug/ast-codegen]             - ctor::String <value="spicy::rt::Parser"> (spicy_rt.hlt:58:12)
 [debug/ast-codegen]     - declaration::Type %207 <linkage="public"> (spicy_rt.hlt:60:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %492 <linkage="public">
-[debug/ast-codegen]         | Originator -> declaration::Constant %490 <linkage="public">
-[debug/ast-codegen]         | Responder -> declaration::Constant %491 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %493 <linkage="public">
 [debug/ast-codegen]       - ID <name="Direction"> (spicy_rt.hlt:60:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:60:25) (non-const) (type-id: spicy_rt::Direction) (cxx-id: spicy::rt::Direction)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:60:32)
@@ -7338,9 +4535,6 @@
 [debug/ast-codegen]       - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %299 <linkage="public"> (spicy_rt.hlt:65:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:65:15)
-[debug/ast-codegen]           | instance -> declaration::Parameter %214 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | linker_scope -> declaration::Parameter %213 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | parse_func -> declaration::Parameter %212 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="registerParser"> (spicy_rt.hlt:65:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:65:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:65:16)
@@ -7367,13 +4561,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %300 <linkage="public"> (spicy_rt.hlt:66:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:66:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %217 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %216 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead -> declaration::Parameter %218 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead_end -> declaration::Parameter %219 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | literal_mode -> declaration::Parameter %220 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | trim -> declaration::Parameter %221 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit_id -> declaration::Parameter %215 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="printParserState"> (spicy_rt.hlt:66:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:66:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:66:16)
@@ -7415,82 +4602,10 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::printParserState"> (spicy_rt.hlt:66:182)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:66:220)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %301 <linkage="public"> (spicy_rt.hlt:68:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:68:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %223 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %222 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %224 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:68:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:68:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:68:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:68:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %222 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:68:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:68:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:55) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %223 <is_struct_param="false" kind="in"> (spicy_rt.hlt:68:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:68:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:68:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:74)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %224 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:87)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:68:113)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%286"> (type: spicy_rt::Filters) (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:68:93)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:68:122)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:68:122)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:68:131) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:68:131)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:68:170)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %302 <linkage="public"> (spicy_rt.hlt:69:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:69:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %226 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %225 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %228 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | n -> declaration::Parameter %227 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:69:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:69:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:69:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:69:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %225 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:69:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:69:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:55) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %226 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:69:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:69:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:74)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %227 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:86)
-[debug/ast-codegen]             - ID <name="n"> (spicy_rt.hlt:69:96)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:69:87) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %228 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:99)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:69:125)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%286"> (type: spicy_rt::Filters) (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:69:105)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:69:134)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:69:134)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:69:143) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:69:143)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:69:182)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %301 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %302 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %303 <linkage="public"> (spicy_rt.hlt:70:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:70:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %230 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %229 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %231 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %233 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | location -> declaration::Parameter %232 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:70:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:70:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:70:16)
@@ -7528,12 +4643,6 @@
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %304 <linkage="public"> (spicy_rt.hlt:71:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:71:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %235 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %234 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %237 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %239 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | location -> declaration::Parameter %238 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | n -> declaration::Parameter %236 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:71:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:71:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:71:16)
@@ -7573,128 +4682,11 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInput"> (spicy_rt.hlt:71:167)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:71:201)
 [debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %305 <linkage="public"> (spicy_rt.hlt:72:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:72:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %241 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %240 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %242 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForEod"> (spicy_rt.hlt:72:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:72:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:72:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:72:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %240 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:32)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:72:56)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:72:38) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:48) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %241 <is_struct_param="false" kind="in"> (spicy_rt.hlt:72:61)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:72:75)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:72:67) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:67)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %242 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:80)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:72:106)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%286"> (type: spicy_rt::Filters) (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:72:86)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:72:115)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:72:115)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:72:124) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForEod"> (spicy_rt.hlt:72:124)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:72:156)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %306 <linkage="public"> (spicy_rt.hlt:73:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:73:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %244 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %243 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %245 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="atEod"> (spicy_rt.hlt:73:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:73:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:73:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:73:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %243 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:27)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:73:51)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:73:33) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:43) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %244 <is_struct_param="false" kind="in"> (spicy_rt.hlt:73:56)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:73:70)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:73:62) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:62)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %245 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:75)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:73:101)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%286"> (type: spicy_rt::Filters) (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:73:81)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:73:110)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:73:110)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:73:119) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::atEod"> (spicy_rt.hlt:73:119)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:73:146)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %307 <linkage="public"> (spicy_rt.hlt:75:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:75:15)
-[debug/ast-codegen]           | begin_ -> declaration::Parameter %246 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | dir -> declaration::Parameter %250 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | end_ -> declaration::Parameter %247 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | i -> declaration::Parameter %248 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | needle -> declaration::Parameter %249 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="unit_find"> (spicy_rt.hlt:75:43)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:75:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:75:16)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:16) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:34) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %246 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:53)
-[debug/ast-codegen]             - ID <name="begin_"> (spicy_rt.hlt:75:70)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:62) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %247 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:77)
-[debug/ast-codegen]             - ID <name="end_"> (spicy_rt.hlt:75:95)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:87) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %248 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:100)
-[debug/ast-codegen]             - ID <name="i"> (spicy_rt.hlt:75:128)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:101) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:119) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %249 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:130)
-[debug/ast-codegen]             - ID <name="needle"> (spicy_rt.hlt:75:137)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:75:131) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %250 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - ID <name="dir"> (spicy_rt.hlt:75:159)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%296"> (type: spicy_rt::FindDirection) (spicy_rt.hlt:75:144) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::FindDirection"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:75:164)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:75:164)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:75:173) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::unitFind"> (spicy_rt.hlt:75:173)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:75:203)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]     - declaration::Function %308 <linkage="public"> (spicy_rt.hlt:77:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:77:15)
-[debug/ast-codegen]         - ID <name="backtrack"> (spicy_rt.hlt:77:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:77:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:77:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:77:16) (non-const)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:77:33)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:77:33)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:77:42) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::backtrack"> (spicy_rt.hlt:77:42)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:77:73)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %305 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %306 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %307 (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %308 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Type %251 <linkage="public"> (spicy_rt.hlt:79:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %494 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %495 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %496 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (spicy_rt.hlt:79:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:79:24) (non-const) (type-id: spicy_rt::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:79:31)
@@ -7707,44 +4699,9 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (spicy_rt.hlt:79:44)
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:79:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (spicy_rt.hlt:79:53)
-[debug/ast-codegen]     - declaration::Function %309 <linkage="public"> (spicy_rt.hlt:81:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:81:15)
-[debug/ast-codegen]           | lower -> declaration::Parameter %256 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | order -> declaration::Parameter %258 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | upper -> declaration::Parameter %257 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | v -> declaration::Parameter %255 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="extractBits"> (spicy_rt.hlt:81:24)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:81:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:81:16)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:16) (non-const) (wildcard)
-[debug/ast-codegen]           - declaration::Parameter %255 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:36)
-[debug/ast-codegen]             - ID <name="v"> (spicy_rt.hlt:81:44)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:36) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %256 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:46)
-[debug/ast-codegen]             - ID <name="lower"> (spicy_rt.hlt:81:56)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:47) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %257 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:62)
-[debug/ast-codegen]             - ID <name="upper"> (spicy_rt.hlt:81:72)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:63) (non-const)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]           - declaration::Parameter %258 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:78)
-[debug/ast-codegen]             - ID <name="order"> (spicy_rt.hlt:81:87)
-[debug/ast-codegen]             - type::Enum (spicy_rt.hlt:81:79) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - node::None (default-parser-functions.spicy:11:12-13:19)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:81:94)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:81:94)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:81:103) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::integer::bits"> (spicy_rt.hlt:81:103)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:81:130)
-[debug/ast-codegen]             - node::None (default-parser-functions.spicy:11:12-13:19)
+[debug/ast-codegen]     - node::None %309 (default-parser-functions.spicy:11:12-13:19)
 [debug/ast-codegen]     - declaration::Function %310 <linkage="public"> (spicy_rt.hlt:83:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:83:15)
-[debug/ast-codegen]           | punit -> declaration::Parameter %259 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | ti -> declaration::Parameter %261 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %260 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="initializeParsedUnit"> (spicy_rt.hlt:83:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:83:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:83:16)
