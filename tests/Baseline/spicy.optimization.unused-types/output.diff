### BTest baseline data generated by btest-diff. Do not edit. Use "btest -U/-u" to update. Requires BTest >= 0.63.
--- ast.0
+++ ast.1
@@ -1,330 +1,21 @@
 [debug/ast-codegen] # foo: AST for codegen
 [debug/ast-codegen]   - Module %1 (unused-types.spicy:11:1-44:3)
-[debug/ast-codegen]       | Priv1 -> declaration::Type %18 (original %29) <linkage="private">
-[debug/ast-codegen]       | Priv2 -> declaration::Type %20 (original %35) <linkage="private">
-[debug/ast-codegen]       | Priv3 -> declaration::Type %21 (original %38) <linkage="private">
-[debug/ast-codegen]       | Priv4 -> declaration::Type %22 (original %43) <linkage="private">
-[debug/ast-codegen]       | Priv5 -> declaration::Type %23 (original %46) <linkage="private">
-[debug/ast-codegen]       | Priv6 -> declaration::Type %24 (original %49) <linkage="private">
-[debug/ast-codegen]       | Priv7 -> declaration::Type %2 <linkage="private">
-[debug/ast-codegen]       | Priv8 -> declaration::Type %12 <linkage="private">
-[debug/ast-codegen]       | Priv9 -> declaration::Type %26 (original %57) <linkage="public">
-[debug/ast-codegen]       | Pub2 -> declaration::Type %19 (original %32) <linkage="public">
-[debug/ast-codegen]       | Pub3 -> declaration::Type %25 (original %54) <linkage="public">
-[debug/ast-codegen]       | Pub4 -> declaration::Type %7 <linkage="public">
-[debug/ast-codegen]       | __register_foo_Priv9 -> declaration::Function %529 <linkage="init">
-[debug/ast-codegen]       | __register_foo_Pub2 -> declaration::Function %527 <linkage="init">
-[debug/ast-codegen]       | __register_foo_Pub3 -> declaration::Function %528 <linkage="init">
-[debug/ast-codegen]       | foo -> declaration::Module %819 <id="foo">
-[debug/ast-codegen]       | hilti -> declaration::ImportedModule %525 <extension=".hlt" path="" scope="-">
-[debug/ast-codegen]       | spicy_rt -> declaration::ImportedModule %526 <extension=".hlt" path="" scope="-">
 [debug/ast-codegen]     - ID <name="foo"> (unused-types.spicy:11:8)
 [debug/ast-codegen]     - statement::Block (unused-types.spicy:11:1-44:3)
-[debug/ast-codegen]     - declaration::Type %18 (original %29) <linkage="private"> (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         | parse1 -> declaration::Function %766 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %767 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %768 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %765 <linkage="private"> (type: value_ref<foo::Priv1>)
-[debug/ast-codegen]       - ID <name="Priv1"> (unused-types.spicy:14:6)
-[debug/ast-codegen]       - type::Struct %61 (original %28) (unused-types.spicy:11:12-14:22) (non-const) (top-level scope) (type-id: foo::Priv1)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%18"> (type: foo::Priv1) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv1">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - AttributeSet (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %19 (original %32) <linkage="public"> (unused-types.spicy:17:1)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %770 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %771 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %772 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %773 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %769 <linkage="private"> (type: value_ref<foo::Pub2>)
+[debug/ast-codegen]     - node::None %18 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - declaration::Type %19 <linkage="public"> (unused-types.spicy:17:1)
 [debug/ast-codegen]       - ID <name="Pub2"> (unused-types.spicy:17:13)
-[debug/ast-codegen]       - type::Struct %67 (original %31) (unused-types.spicy:17:1) (non-const) (top-level scope) (type-id: foo::Pub2)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]       - type::Struct %67 (unused-types.spicy:17:1) (non-const) (top-level scope) (type-id: foo::Pub2)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%467"> (type: spicy_rt::Parser) (non-const)
@@ -531,662 +222,18 @@
 [debug/ast-codegen]       - AttributeSet (unused-types.spicy:17:1)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %20 (original %35) <linkage="private"> (unused-types.spicy:17:28-20:22)
-[debug/ast-codegen]         | parse1 -> declaration::Function %775 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %776 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %777 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %774 <linkage="private"> (type: value_ref<foo::Priv2>)
-[debug/ast-codegen]       - ID <name="Priv2"> (unused-types.spicy:20:6)
-[debug/ast-codegen]       - type::Struct %72 (original %34) (unused-types.spicy:17:28-20:22) (non-const) (top-level scope) (type-id: foo::Priv2)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv2">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - AttributeSet (unused-types.spicy:17:28-20:22)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %21 (original %38) <linkage="private"> (unused-types.spicy:20:22-21:22)
-[debug/ast-codegen]         | parse1 -> declaration::Function %779 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %780 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %781 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %778 <linkage="private"> (type: value_ref<foo::Priv3>)
-[debug/ast-codegen]       - ID <name="Priv3"> (unused-types.spicy:21:6)
-[debug/ast-codegen]       - type::Struct %77 (original %37) (unused-types.spicy:20:22-21:22) (non-const) (top-level scope) (type-id: foo::Priv3)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv3">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - AttributeSet (unused-types.spicy:20:22-21:22)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %22 (original %43) <linkage="private"> (unused-types.spicy:21:22-24:17)
-[debug/ast-codegen]       - ID <name="Priv4"> (unused-types.spicy:22:6)
-[debug/ast-codegen]       - type::Struct %82 (original %42) (unused-types.spicy:21:22-24:17) (non-const) (top-level scope) (type-id: foo::Priv4)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]           - ID <name="anon"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]           - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]               - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]           - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]               - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]             - Attribute <tag="&optional">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - Attribute <tag="&no-emit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:24:5)
-[debug/ast-codegen]           - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]           - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]               - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]           - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]               - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:24:5)
-[debug/ast-codegen]             - Attribute <tag="&optional">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:24:5)
-[debug/ast-codegen]           - ID <name="__on_x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:24:5)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:24:5)
-[debug/ast-codegen]               - ID <name="__dd">
-[debug/ast-codegen]               - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%22"> (type: foo::Priv4) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv4">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - AttributeSet (unused-types.spicy:21:22-24:17)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %23 (original %46) <linkage="private"> (unused-types.spicy:24:17-27:22)
-[debug/ast-codegen]         | parse1 -> declaration::Function %787 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %788 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %789 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %786 <linkage="private"> (type: value_ref<foo::Priv5>)
+[debug/ast-codegen]     - node::None %20 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %21 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %22 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - declaration::Type %23 <linkage="private"> (unused-types.spicy:24:17-27:22)
 [debug/ast-codegen]       - ID <name="Priv5"> (unused-types.spicy:27:6)
-[debug/ast-codegen]       - type::Struct %87 (original %45) (unused-types.spicy:24:17-27:22) (non-const) (top-level scope) (type-id: foo::Priv5)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]       - type::Struct %87 (unused-types.spicy:24:17-27:22) (non-const) (top-level scope) (type-id: foo::Priv5)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parse_stage1">
 [debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
@@ -1221,163 +268,21 @@
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv5">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]       - AttributeSet (unused-types.spicy:24:17-27:22)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %24 (original %49) <linkage="private"> (unused-types.spicy:27:22-28:22)
-[debug/ast-codegen]         | parse1 -> declaration::Function %791 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %792 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %793 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %790 <linkage="private"> (type: value_ref<foo::Priv6>)
+[debug/ast-codegen]     - declaration::Type %24 <linkage="private"> (unused-types.spicy:27:22-28:22)
 [debug/ast-codegen]       - ID <name="Priv6"> (unused-types.spicy:28:6)
-[debug/ast-codegen]       - type::Struct %92 (original %48) (unused-types.spicy:27:22-28:22) (non-const) (top-level scope) (type-id: foo::Priv6)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]       - type::Struct %92 (unused-types.spicy:27:22-28:22) (non-const) (top-level scope) (type-id: foo::Priv6)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parse_stage1">
 [debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
@@ -1412,117 +317,15 @@
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::Priv6">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]               - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]       - AttributeSet (unused-types.spicy:27:22-28:22)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %25 (original %54) <linkage="public"> (unused-types.spicy:29:1-32:3)
+[debug/ast-codegen]     - declaration::Type %25 <linkage="public"> (unused-types.spicy:29:1-32:3)
 [debug/ast-codegen]       - ID <name="Pub3"> (unused-types.spicy:29:13)
-[debug/ast-codegen]       - type::Struct %98 (original %53) (unused-types.spicy:29:1-32:3) (non-const) (top-level scope) (type-id: foo::Pub3)
+[debug/ast-codegen]       - type::Struct %98 (unused-types.spicy:29:1-32:3) (non-const) (top-level scope) (type-id: foo::Pub3)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:26-30:13)
 [debug/ast-codegen]           - ID <name="anon_2"> (unused-types.spicy:29:26-30:13)
@@ -1550,123 +353,16 @@
 [debug/ast-codegen]             - Attribute <tag="&optional">
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:31:5)
-[debug/ast-codegen]           - ID <name="__on_x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:31:5)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:31:5)
-[debug/ast-codegen]               - ID <name="__dd">
-[debug/ast-codegen]               - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%467"> (type: spicy_rt::Parser) (non-const)
@@ -1873,27 +569,8 @@
 [debug/ast-codegen]       - AttributeSet (unused-types.spicy:29:1-32:3)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %2 <linkage="private"> (unused-types.spicy:32:3-35:31)
-[debug/ast-codegen]         | A -> declaration::Constant %799 <linkage="private">
-[debug/ast-codegen]         | B -> declaration::Constant %800 <linkage="private">
-[debug/ast-codegen]         | C -> declaration::Constant %801 <linkage="private">
-[debug/ast-codegen]         | Undef -> declaration::Constant %802 <linkage="private">
-[debug/ast-codegen]       - ID <name="Priv7"> (unused-types.spicy:35:6)
-[debug/ast-codegen]       - type::Enum (unused-types.spicy:35:14) (non-const) (type-id: foo::Priv7)
-[debug/ast-codegen]         - type::enum_::Label <value="0"> (unused-types.spicy:35:21)
-[debug/ast-codegen]           - ID <name="A"> (unused-types.spicy:35:21)
-[debug/ast-codegen]         - type::enum_::Label <value="1"> (unused-types.spicy:35:24)
-[debug/ast-codegen]           - ID <name="B"> (unused-types.spicy:35:24)
-[debug/ast-codegen]         - type::enum_::Label <value="2"> (unused-types.spicy:35:27)
-[debug/ast-codegen]           - ID <name="C"> (unused-types.spicy:35:27)
-[debug/ast-codegen]         - type::enum_::Label <value="-1"> (unused-types.spicy:35:14)
-[debug/ast-codegen]           - ID <name="Undef">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %2 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %7 <linkage="public"> (unused-types.spicy:38:1)
-[debug/ast-codegen]         | A -> declaration::Constant %803 <linkage="public">
-[debug/ast-codegen]         | B -> declaration::Constant %804 <linkage="public">
-[debug/ast-codegen]         | C -> declaration::Constant %805 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %806 <linkage="public">
 [debug/ast-codegen]       - ID <name="Pub4"> (unused-types.spicy:38:13)
 [debug/ast-codegen]       - type::Enum (unused-types.spicy:38:20) (non-const) (type-id: foo::Pub4)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (unused-types.spicy:38:27)
@@ -1906,10 +583,6 @@
 [debug/ast-codegen]           - ID <name="Undef">
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %12 <linkage="private"> (unused-types.spicy:38:37-41:31)
-[debug/ast-codegen]         | A -> declaration::Constant %807 <linkage="private">
-[debug/ast-codegen]         | B -> declaration::Constant %808 <linkage="private">
-[debug/ast-codegen]         | C -> declaration::Constant %809 <linkage="private">
-[debug/ast-codegen]         | Undef -> declaration::Constant %810 <linkage="private">
 [debug/ast-codegen]       - ID <name="Priv8"> (unused-types.spicy:41:6)
 [debug/ast-codegen]       - type::Enum (unused-types.spicy:41:14) (non-const) (type-id: foo::Priv8)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (unused-types.spicy:41:21)
@@ -1921,9 +594,9 @@
 [debug/ast-codegen]         - type::enum_::Label <value="-1"> (unused-types.spicy:41:14)
 [debug/ast-codegen]           - ID <name="Undef">
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Type %26 (original %57) <linkage="public"> (unused-types.spicy:42:1-44:3)
+[debug/ast-codegen]     - declaration::Type %26 <linkage="public"> (unused-types.spicy:42:1-44:3)
 [debug/ast-codegen]       - ID <name="Priv9"> (unused-types.spicy:42:13)
-[debug/ast-codegen]       - type::Struct %116 (original %56) (unused-types.spicy:42:1-44:3) (non-const) (top-level scope) (type-id: foo::Priv9)
+[debug/ast-codegen]       - type::Struct %116 (unused-types.spicy:42:1-44:3) (non-const) (top-level scope) (type-id: foo::Priv9)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:43:5)
 [debug/ast-codegen]           - ID <name="en"> (unused-types.spicy:43:9)
@@ -1942,111 +615,15 @@
 [debug/ast-codegen]               - expression::ResolvedID <resolved="%807"> (type: foo::Priv8) (unused-types.spicy:43:21) (const)
 [debug/ast-codegen]                 - ID <name="Priv8::A"> (unused-types.spicy:43:21)
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%467"> (type: spicy_rt::Parser) (non-const)
@@ -2254,871 +831,15 @@
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::ImportedModule %525 <extension=".hlt" path="" scope="-"> (unused-types.spicy:11:1-44:3)
-[debug/ast-codegen]         | AddressFamily -> declaration::Type %417 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %402 <linkage="public">
-[debug/ast-codegen]         | ByteOrder -> declaration::Type %406 <linkage="public">
-[debug/ast-codegen]         | Captures -> declaration::Type %530 <linkage="public">
-[debug/ast-codegen]         | Charset -> declaration::Type %430 <linkage="public">
-[debug/ast-codegen]         | Exception -> declaration::Type %540 <linkage="public">
-[debug/ast-codegen]         | MatchState -> declaration::Type %434 <linkage="public">
-[debug/ast-codegen]         | Protocol -> declaration::Type %425 <linkage="public">
-[debug/ast-codegen]         | RealType -> declaration::Type %421 <linkage="public">
-[debug/ast-codegen]         | RuntimeError -> declaration::Type %541 <linkage="public">
-[debug/ast-codegen]         | Side -> declaration::Type %412 <linkage="public">
-[debug/ast-codegen]         | abort -> declaration::Function %538 <linkage="public">
-[debug/ast-codegen]         | current_time -> declaration::Function %536 <linkage="public">
-[debug/ast-codegen]         | debug -> declaration::Function %533 <linkage="public">
-[debug/ast-codegen]         | debugDedent -> declaration::Function %535 <linkage="public">
-[debug/ast-codegen]         | debugIndent -> declaration::Function %534 <linkage="public">
-[debug/ast-codegen]         | hilti -> declaration::Module %846 <id="hilti">
-[debug/ast-codegen]         | linker_scope -> declaration::Function %539 <linkage="public">
-[debug/ast-codegen]         | mktime -> declaration::Function %537 <linkage="public">
-[debug/ast-codegen]         | print -> declaration::Function %531 <linkage="public">
-[debug/ast-codegen]         | printValues -> declaration::Function %532 <linkage="public">
 [debug/ast-codegen]       - ID <name="hilti"> (unused-types.spicy:11:1-44:3)
 [debug/ast-codegen]     - declaration::ImportedModule %526 <extension=".hlt" path="" scope="-"> (unused-types.spicy:11:1-44:3)
-[debug/ast-codegen]         | Backtrack -> declaration::Type %543 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %513 <linkage="public">
-[debug/ast-codegen]         | Direction -> declaration::Type %469 <linkage="public">
-[debug/ast-codegen]         | Filters -> declaration::Type %549 <linkage="public">
-[debug/ast-codegen]         | FindDirection -> declaration::Type %559 <linkage="public">
-[debug/ast-codegen]         | Forward -> declaration::Type %550 <linkage="public">
-[debug/ast-codegen]         | HiltiResumable -> declaration::Type %548 <linkage="public">
-[debug/ast-codegen]         | MIMEType -> declaration::Type %560 <linkage="public">
-[debug/ast-codegen]         | ParseError -> declaration::Type %542 <linkage="public">
-[debug/ast-codegen]         | ParsedUnit -> declaration::Type %546 <linkage="public">
-[debug/ast-codegen]         | Parser -> declaration::Type %467 <linkage="public">
-[debug/ast-codegen]         | ParserPort -> declaration::Type %561 <linkage="public">
-[debug/ast-codegen]         | Sink -> declaration::Type %451 <linkage="public">
-[debug/ast-codegen]         | SinkState -> declaration::Type %545 <linkage="public">
-[debug/ast-codegen]         | TypeInfo -> declaration::Type %547 <linkage="public">
-[debug/ast-codegen]         | UnitAlreadyConnected -> declaration::Type %544 <linkage="public">
-[debug/ast-codegen]         | UnitContext -> declaration::Type %556 <linkage="public">
-[debug/ast-codegen]         | atEod -> declaration::Function %569 <linkage="public">
-[debug/ast-codegen]         | backtrack -> declaration::Function %571 <linkage="public">
-[debug/ast-codegen]         | createContext -> declaration::Function %557 <linkage="public">
-[debug/ast-codegen]         | extractBits -> declaration::Function %572 <linkage="public">
-[debug/ast-codegen]         | filter_connect -> declaration::Function %552 <linkage="public">
-[debug/ast-codegen]         | filter_disconnect -> declaration::Function %553 <linkage="public">
-[debug/ast-codegen]         | filter_forward -> declaration::Function %554 <linkage="public">
-[debug/ast-codegen]         | filter_forward_eod -> declaration::Function %555 <linkage="public">
-[debug/ast-codegen]         | filter_init -> declaration::Function %551 <linkage="public">
-[debug/ast-codegen]         | initializeParsedUnit -> declaration::Function %573 <linkage="public">
-[debug/ast-codegen]         | printParserState -> declaration::Function %563 <linkage="public">
-[debug/ast-codegen]         | registerParser -> declaration::Function %562 <linkage="public">
-[debug/ast-codegen]         | setContext -> declaration::Function %558 <linkage="public">
-[debug/ast-codegen]         | spicy_rt -> declaration::Module %856 <id="spicy_rt">
-[debug/ast-codegen]         | unit_find -> declaration::Function %570 <linkage="public">
-[debug/ast-codegen]         | waitForEod -> declaration::Function %568 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %566 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %567 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %564 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %565 <linkage="public">
 [debug/ast-codegen]       - ID <name="spicy_rt"> (unused-types.spicy:11:1-44:3)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:14:14)
-[debug/ast-codegen]         | parse1 -> declaration::Function %766 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %767 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %768 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %765 <linkage="private"> (type: value_ref<foo::Priv1>)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %121 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %120 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %123 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %124 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %122 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::Priv1::__parse_stage1"> (unused-types.spicy:14:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %120 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %121 <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %122 <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %123 <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %124 <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block (unused-types.spicy:14:14)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %125 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %125 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv1">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:14:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:14:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%125"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%121"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%123"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%124"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:14:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Expression (unused-types.spicy:14:14)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%125"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %128 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %127 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %126 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv1::parse1"> (unused-types.spicy:14:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %126 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %127 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %128 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %131 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %132 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %130 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %129 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %129 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%18"> (type: foo::Priv1) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv1">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %130 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%127"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%127"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%126"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %131 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %132 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv1">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%126"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%130"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%131"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%132"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%130"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%131"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%132"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%129"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%126"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%130"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%131"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%132"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%130"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %136 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %135 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %134 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %133 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv1::parse3"> (unused-types.spicy:14:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %133 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %134 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %135 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %136 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %139 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %140 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %138 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %137 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %137 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%18"> (type: foo::Priv1) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv1">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%133"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%137"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%18"> (type: foo::Priv1) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv1"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %138 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%135"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%135"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%134"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %139 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %140 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv1">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%134"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%138"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%139"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%140"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%138"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%139"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%140"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%137"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%134"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%138"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%139"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%140"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%138"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:14:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %144 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %143 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %142 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %141 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv1::parse2"> (unused-types.spicy:14:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %141 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%18"> (type: foo::Priv1) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv1">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %142 <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %143 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %144 <is_struct_param="false" kind="in"> (unused-types.spicy:14:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %146 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %147 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %145 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %145 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%143"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%143"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%142"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %146 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %147 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv1">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%142"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%145"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%146"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%147"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%145"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%146"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%147"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%141"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:14:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%142"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%145"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%146"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%147"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv1 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%145"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:14:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:17:20)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %770 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %771 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %772 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %773 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %769 <linkage="private"> (type: value_ref<foo::Pub2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %149 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %148 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %151 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %152 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %150 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Pub2::__parse_stage1"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:17:20)
@@ -3150,7 +871,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:17:20)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %153 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %153 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -3183,23 +903,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:17:20)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:17:20)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %154
-[debug/ast-codegen]                   | filtered -> declaration::Forward %816 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
@@ -3220,7 +927,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %156 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %156 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -3414,21 +1120,9 @@
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:17:20)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:17:20)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -3439,39 +1133,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-types.spicy:17:20)
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:17:20)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:17:20)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:17:20)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:17:20)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%153"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -3479,17 +1149,7 @@
 [debug/ast-codegen]           - Attribute <tag="&always-emit">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:17:20)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %770 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %771 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %772 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %773 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %769 <linkage="private"> (type: value_ref<foo::Pub2>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %158 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %157 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %160 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %161 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %159 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Pub2::__parse_foo_Pub2_stage2"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:17:20)
@@ -3521,7 +1181,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:17:20)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %162 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %162 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -3532,21 +1191,9 @@
 [debug/ast-codegen]                 - type::stream::Iterator (non-const)
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:17:20)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (unused-types.spicy:17:20)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:17:20)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (unused-types.spicy:17:20)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:17:20)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -3585,9 +1232,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:17:20)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           | context -> declaration::Parameter %165 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %164 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %163 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub2::parse1"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:17:20)
@@ -3614,10 +1258,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %168 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %169 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %167 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %166 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %166 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -3781,10 +1421,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:17:20)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           | context -> declaration::Parameter %173 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %172 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %171 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %170 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub2::parse3"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:17:20)
@@ -3817,10 +1453,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %176 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %177 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %175 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %174 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %174 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -4001,10 +1633,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:17:20)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:17:20)
-[debug/ast-codegen]           | context -> declaration::Parameter %181 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %180 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %179 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %178 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub2::parse2"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:17:20)
@@ -4037,9 +1665,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %183 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %184 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %182 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %182 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -4352,2787 +1977,20 @@
 [debug/ast-codegen]                       - type::ResolvedID <resolved="%19"> (type: foo::Pub2) (unused-types.spicy:17:20) (non-const)
 [debug/ast-codegen]                         - ID <name="foo::Pub2"> (unused-types.spicy:17:20)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:20:14)
-[debug/ast-codegen]         | parse1 -> declaration::Function %775 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %776 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %777 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %774 <linkage="private"> (type: value_ref<foo::Priv2>)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %186 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %185 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %188 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %189 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %187 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::Priv2::__parse_stage1"> (unused-types.spicy:20:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %185 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %186 <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %187 <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %188 <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %189 <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block (unused-types.spicy:20:14)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %190 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %190 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv2">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:20:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:20:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%190"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%186"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%188"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%189"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:20:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Expression (unused-types.spicy:20:14)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%190"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %193 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %192 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %191 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv2::parse1"> (unused-types.spicy:20:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %191 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %192 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %193 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %196 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %197 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %195 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %194 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %194 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv2">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %195 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%192"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%192"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%191"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %196 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %197 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv2">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%191"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%195"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%196"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%197"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%195"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%196"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%197"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%194"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%191"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%195"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%196"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%197"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%195"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %201 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %200 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %199 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %198 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv2::parse3"> (unused-types.spicy:20:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %198 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %199 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %200 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %201 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %204 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %205 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %203 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %202 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %202 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%198"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%202"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv2"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %203 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%200"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%200"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%199"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %204 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %205 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv2">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%199"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%203"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%204"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%205"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%203"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%204"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%205"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%202"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%199"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%203"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%204"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%205"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%203"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:20:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %209 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %208 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %207 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %206 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv2::parse2"> (unused-types.spicy:20:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %206 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv2">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %207 <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %208 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %209 <is_struct_param="false" kind="in"> (unused-types.spicy:20:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %211 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %212 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %210 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %210 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%208"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%208"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%207"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %211 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %212 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv2">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%207"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%210"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%211"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%212"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%210"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%211"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%212"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%206"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%207"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%210"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%211"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%212"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv2 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%210"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:20:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:21:14)
-[debug/ast-codegen]         | parse1 -> declaration::Function %779 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %780 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %781 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %778 <linkage="private"> (type: value_ref<foo::Priv3>)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %214 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %213 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %216 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %217 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %215 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::Priv3::__parse_stage1"> (unused-types.spicy:21:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %213 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %214 <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %215 <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %216 <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %217 <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block (unused-types.spicy:21:14)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %218 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %218 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv3">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:21:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:21:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%218"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%214"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%216"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%217"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:21:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Expression (unused-types.spicy:21:14)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%218"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %221 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %220 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %219 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv3::parse1"> (unused-types.spicy:21:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %219 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %220 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %221 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %224 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %225 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %223 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %222 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %222 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv3">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %223 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%220"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%220"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%219"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %224 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %225 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv3">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%219"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%223"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%224"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%225"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%223"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%224"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%225"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%222"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%219"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%223"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%224"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%225"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%223"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %229 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %228 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %227 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %226 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv3::parse3"> (unused-types.spicy:21:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %226 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %227 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %228 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %229 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %232 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %233 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %231 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %230 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %230 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv3">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%226"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%230"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv3"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %231 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%228"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%228"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%227"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %232 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %233 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv3">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%227"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%231"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%232"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%233"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%231"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%232"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%233"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%230"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%227"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%231"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%232"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%233"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%231"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:21:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %237 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %236 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %235 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %234 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv3::parse2"> (unused-types.spicy:21:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %234 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv3">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %235 <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %236 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %237 <is_struct_param="false" kind="in"> (unused-types.spicy:21:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %239 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %240 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %238 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %238 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%236"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%236"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%235"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %239 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %240 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv3">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%235"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%238"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%239"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%240"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%238"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%239"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%240"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%234"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%235"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%238"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%239"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%240"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv3 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%238"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:21:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %242 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %241 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %244 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %245 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %243 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::Priv4::__parse_stage1"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %241 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %242 <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %243 <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %244 <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %245 <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %246 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %246 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]                 | __transient_anon -> declaration::LocalVariable %247 <const="false">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - statement::Declaration
-[debug/ast-codegen]                 - declaration::LocalVariable %247 <const="false">
-[debug/ast-codegen]                   - ID <name="__transient_anon">
-[debug/ast-codegen]                   - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                     - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                       - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - statement::Comment <comment="Begin parsing production: Unit: foo_Priv2_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                     - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__data">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="default">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]                         - ID <name="__trim">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="- parsing production: Unit: foo_Priv2_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%247"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                     - ID <name="__transient_anon">
-[debug/ast-codegen]                   - expression::Coerced (unused-types.spicy:22:20-23:13) (const)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:22:20-23:13) (const)
-[debug/ast-codegen]                       - ctor::Coerced (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]                         - ctor::Default (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]                           - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                             - ID <name="foo::Priv2"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]                         - ctor::Default (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]                           - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                             - ID <name="foo::Priv2"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]                     - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]                         - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%247"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                         - ID <name="__transient_anon">
-[debug/ast-codegen]                     - expression::Member (const)
-[debug/ast-codegen]                       - ID <name="__parse_stage1">
-[debug/ast-codegen]                       - type::Function <flavor="method"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - type::Tuple <wildcard="false"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]                             - type::stream::View (non-const)
-[debug/ast-codegen]                               - type::Stream
-[debug/ast-codegen]                             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                             - type::stream::Iterator (non-const)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - ID <name="__data">
-[debug/ast-codegen]                           - type::ValueReference (non-const)
-[debug/ast-codegen]                             - type::Stream (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - ID <name="__cur">
-[debug/ast-codegen]                           - type::stream::View (non-const)
-[debug/ast-codegen]                             - type::Stream
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - ID <name="__trim">
-[debug/ast-codegen]                           - type::Bool (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - ID <name="__lah">
-[debug/ast-codegen]                           - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:20:14)
-[debug/ast-codegen]                           - ID <name="__lahe">
-[debug/ast-codegen]                           - type::stream::Iterator (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                       - type::Member (non-const)
-[debug/ast-codegen]                         - ID <name="__parse_stage1">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Tuple
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__data">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__cur">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]                           - ID <name="__trim">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                           - ID <name="__lah">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__lahe">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]               - statement::Comment <comment="End parsing production: Unit: foo_Priv2_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - operator_::string::Modulo <kind="%"> (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - expression::Ctor (const)
-[debug/ast-codegen]                           - ctor::String <value="anon = %s">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%247"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                           - ID <name="__transient_anon">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                       - operator_::string::Modulo <kind="%"> (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - expression::Ctor (const)
-[debug/ast-codegen]                           - ctor::String <value="- setting field 'anon' to '%s'">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%247"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]                           - ID <name="__transient_anon">
-[debug/ast-codegen]               - statement::Comment <comment="Begin parsing production: Unit: foo_Priv3_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                     - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__data">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="default">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]                         - ID <name="__trim">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="- parsing production: Unit: foo_Priv3_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                       - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
-[debug/ast-codegen]                   - expression::Coerced (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                       - ctor::Coerced (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - ctor::Default (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="foo::Priv3"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - ctor::Default (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="foo::Priv3"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                     - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                           - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                           - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="x">
-[debug/ast-codegen]                           - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="x">
-[debug/ast-codegen]                     - expression::Member (const)
-[debug/ast-codegen]                       - ID <name="__parse_stage1">
-[debug/ast-codegen]                       - type::Function <flavor="method"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - type::Tuple <wildcard="false"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]                             - type::stream::View (non-const)
-[debug/ast-codegen]                               - type::Stream
-[debug/ast-codegen]                             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                             - type::stream::Iterator (non-const)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - ID <name="__data">
-[debug/ast-codegen]                           - type::ValueReference (non-const)
-[debug/ast-codegen]                             - type::Stream (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - ID <name="__cur">
-[debug/ast-codegen]                           - type::stream::View (non-const)
-[debug/ast-codegen]                             - type::Stream
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - ID <name="__trim">
-[debug/ast-codegen]                           - type::Bool (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - ID <name="__lah">
-[debug/ast-codegen]                           - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                         - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:21:14)
-[debug/ast-codegen]                           - ID <name="__lahe">
-[debug/ast-codegen]                           - type::stream::Iterator (non-const)
-[debug/ast-codegen]                           - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                       - type::Member (non-const)
-[debug/ast-codegen]                         - ID <name="__parse_stage1">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Tuple
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__data">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__cur">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]                           - ID <name="__trim">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                           - ID <name="__lah">
-[debug/ast-codegen]                         - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                           - ID <name="__lahe">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]               - statement::Comment <comment="End parsing production: Unit: foo_Priv3_2 ->">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - operator_::string::Modulo <kind="%"> (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - expression::Ctor (const)
-[debug/ast-codegen]                           - ctor::String <value="x = %s">
-[debug/ast-codegen]                         - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                           - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                             - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                             - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="x">
-[debug/ast-codegen]                             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="x">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                       - operator_::string::Modulo <kind="%"> (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - expression::Ctor (const)
-[debug/ast-codegen]                           - ctor::String <value="- setting field 'x' to '%s'">
-[debug/ast-codegen]                         - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                           - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                             - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                             - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="x">
-[debug/ast-codegen]                             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                               - ID <name="x">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:24:5)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall %761 <kind="method call"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                     - ID <name="__on_x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                       - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - ID <name="__dd">
-[debug/ast-codegen]                         - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]                         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:24:5)
-[debug/ast-codegen]                       - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                         - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                           - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                         - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]                           - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                           - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="x">
-[debug/ast-codegen]                           - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                             - ID <name="x">
-[debug/ast-codegen]               - statement::Expression (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%246"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                 - statement::Expression (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Expression (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%246"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           | context -> declaration::Parameter %250 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %249 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %248 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv4::parse1"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %248 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %249 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %250 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %253 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %254 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %252 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %251 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %251 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%22"> (type: foo::Priv4) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv4">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %252 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%249"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%249"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%248"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %253 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %254 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%248"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%252"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%253"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%254"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%252"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%253"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%254"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%251"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%248"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%252"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%253"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%254"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%252"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           | context -> declaration::Parameter %258 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %257 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %256 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %255 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv4::parse3"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %255 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %256 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %257 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %258 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %261 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %262 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %260 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %259 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %259 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%22"> (type: foo::Priv4) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv4">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%255"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%259"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%22"> (type: foo::Priv4) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv4"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %260 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%257"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%257"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%256"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %261 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %262 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%256"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%260"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%261"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%262"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%260"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%261"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%262"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%259"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%256"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%260"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%261"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%262"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%260"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           | context -> declaration::Parameter %266 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %265 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %264 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %263 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv4::parse2"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %263 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%22"> (type: foo::Priv4) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv4">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %264 <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %265 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %266 <is_struct_param="false" kind="in"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %268 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %269 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %267 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %267 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%265"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%265"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%264"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %268 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %269 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv4">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%264"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%267"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%268"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%269"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%267"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%268"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%269"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%263"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%264"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%267"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%268"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%269"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv4 -> foo_Priv2_2 foo_Priv3_2">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%267"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:27:14)
-[debug/ast-codegen]         | parse1 -> declaration::Function %787 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %788 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %789 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %786 <linkage="private"> (type: value_ref<foo::Priv5>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %271 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %270 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %273 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %274 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %272 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Priv5::__parse_stage1"> (unused-types.spicy:27:14)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:27:14)
@@ -7164,7 +2022,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:27:14)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %275 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %275 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -7197,37 +2054,13 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:27:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:27:14)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:27:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:27:14)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression
 [debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
@@ -7253,678 +2086,28 @@
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:27:14)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:27:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:27:14)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:27:14)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:27:14)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%275"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
 [debug/ast-codegen]         - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %278 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %277 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %276 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv5::parse1"> (unused-types.spicy:27:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %276 <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %277 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %278 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %281 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %282 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %280 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %279 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %279 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv5">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %280 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%277"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%277"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%276"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %281 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %282 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv5">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%276"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%280"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%281"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%282"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%280"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%281"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%282"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%279"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%276"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%280"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%281"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%282"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%280"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %286 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %285 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %284 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %283 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv5::parse3"> (unused-types.spicy:27:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %283 <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %284 <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %285 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %286 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %289 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %290 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %288 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %287 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %287 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv5">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%283"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%287"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv5"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %288 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%285"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%285"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%284"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %289 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %290 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv5">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%284"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%288"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%289"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%290"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%288"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%289"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%290"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%287"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%284"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%288"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%289"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%290"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%288"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:27:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %294 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %293 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %292 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %291 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv5::parse2"> (unused-types.spicy:27:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %291 <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv5">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %292 <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %293 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %294 <is_struct_param="false" kind="in"> (unused-types.spicy:27:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %296 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %297 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %295 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %295 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%293"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%293"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%292"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %296 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %297 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv5">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%292"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%295"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%296"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%297"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%295"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%296"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%297"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%291"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:27:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%292"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%295"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%296"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%297"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv5 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%295"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:27:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:28:14)
-[debug/ast-codegen]         | parse1 -> declaration::Function %791 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %792 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %793 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %790 <linkage="private"> (type: value_ref<foo::Priv6>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %299 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %298 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %301 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %302 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %300 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Priv6::__parse_stage1"> (unused-types.spicy:28:14)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:28:14)
@@ -7956,7 +2139,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:28:14)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %303 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %303 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -7989,37 +2171,13 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:28:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:28:14)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:28:14)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:28:14)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression
 [debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
@@ -8045,674 +2203,28 @@
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:28:14)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:28:14)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:28:14)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:28:14)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:28:14)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%303"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
 [debug/ast-codegen]         - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %306 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %305 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %304 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv6::parse1"> (unused-types.spicy:28:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %304 <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %305 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %306 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %309 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %310 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %308 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %307 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %307 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv6">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %308 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%305"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%305"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%304"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %309 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %310 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv6">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%304"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%308"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%309"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%310"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%308"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%309"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%310"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%307"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%304"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%308"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%309"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%310"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%308"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %314 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %313 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %312 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %311 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv6::parse3"> (unused-types.spicy:28:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %311 <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%546"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %312 <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %313 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %314 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %317 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %318 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %316 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %315 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %315 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv6">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%573"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%311"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%315"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::Priv6"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %316 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%313"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%313"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%312"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %317 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %318 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv6">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%312"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%316"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%317"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%318"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%316"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%317"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%318"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%315"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%312"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%316"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%317"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%318"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%316"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:28:14)
-[debug/ast-codegen]           | context -> declaration::Parameter %322 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %321 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %320 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %319 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::Priv6::parse2"> (unused-types.spicy:28:14)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]             - type::stream::View (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %319 <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::Priv6">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %320 <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %321 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %322 <is_struct_param="false" kind="in"> (unused-types.spicy:28:14)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %324 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %325 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %323 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %323 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%321"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%321"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%320"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %324 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %325 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%563"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::Priv6">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%320"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%323"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%324"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%325"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%533"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%534"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%323"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%324"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%325"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%319"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-types.spicy:28:14)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%320"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%323"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%324"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%325"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%535"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_Priv6 ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%323"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-types.spicy:28:14)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %327 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %326 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %329 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %330 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %328 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Pub3::__parse_stage1"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:29:20-32:2)
@@ -8744,7 +2256,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %331 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %331 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -8777,23 +2288,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:29:20-32:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %332
-[debug/ast-codegen]                   | filtered -> declaration::Forward %817 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
@@ -8814,7 +2312,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %334 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %334 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -9008,21 +2505,9 @@
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:29:20-32:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -9033,39 +2518,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:29:20-32:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:29:20-32:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%331"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -9074,11 +2535,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %336 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %335 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %338 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %339 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %337 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Pub3::__parse_foo_Pub3_stage2"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:29:20-32:2)
@@ -9110,8 +2566,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %340 <const="false">
-[debug/ast-codegen]             | __transient_anon_2 -> declaration::LocalVariable %341 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %340 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -9487,53 +2941,13 @@
 [debug/ast-codegen]                         - type::Member (unused-types.spicy:31:5) (non-const)
 [debug/ast-codegen]                           - ID <name="x">
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:31:5)
-[debug/ast-codegen]             - operator_::struct_::MemberCall %762 <kind="method call"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]                 - ID <name="__on_x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:31:5)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                   - declaration::Parameter <is_struct_param="false" kind="in"> (unused-types.spicy:31:5)
-[debug/ast-codegen]                     - ID <name="__dd">
-[debug/ast-codegen]                     - type::Auto <resolves-to="hilti::type::Computed"> (non-const)
-[debug/ast-codegen]                     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:31:5)
-[debug/ast-codegen]                   - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]                       - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                         - ID <name="x">
+[debug/ast-codegen]             - expression::Ctor %762 (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:29:20-32:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -9572,9 +2986,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %344 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %343 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %342 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub3::parse1"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:29:20-32:2)
@@ -9601,10 +3012,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %347 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %348 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %346 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %345 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %345 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -9768,10 +3175,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %352 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %351 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %350 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %349 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub3::parse3"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:29:20-32:2)
@@ -9804,10 +3207,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %355 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %356 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %354 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %353 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %353 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -9988,10 +3387,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %360 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %359 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %358 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %357 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Pub3::parse2"> (unused-types.spicy:29:20-32:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:29:20-32:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:29:20-32:2)
@@ -10024,9 +3419,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %362 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %363 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %361 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %361 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -10341,11 +3733,6 @@
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %365 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %364 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %367 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %368 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %366 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Priv9::__parse_stage1"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:42:21-44:2)
@@ -10377,7 +3764,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %369 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %369 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -10410,23 +3796,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                   - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                   - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-types.spicy:42:21-44:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %370
-[debug/ast-codegen]                   | filtered -> declaration::Forward %818 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
@@ -10447,7 +3820,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %372 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %372 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -10641,21 +4013,9 @@
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:42:21-44:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -10666,39 +4026,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]                 - statement::Expression (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-types.spicy:42:21-44:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:42:21-44:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%369"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -10707,11 +4043,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %374 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %373 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %376 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %377 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %375 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::Priv9::__parse_foo_Priv9_stage2"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:42:21-44:2)
@@ -10743,7 +4074,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %378 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %378 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -10754,21 +4084,9 @@
 [debug/ast-codegen]                 - type::stream::Iterator (non-const)
 [debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]           - statement::Expression (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]               - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-types.spicy:42:21-44:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -10807,9 +4125,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %381 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %380 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %379 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Priv9::parse1"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:42:21-44:2)
@@ -10836,10 +4151,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %384 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %385 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %383 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %382 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %382 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -11003,10 +4314,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %389 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %388 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %387 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %386 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Priv9::parse3"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:42:21-44:2)
@@ -11039,10 +4346,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %392 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %393 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %391 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %390 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %390 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -11223,10 +4526,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %397 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %396 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %395 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %394 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::Priv9::parse2"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-types.spicy:42:21-44:2)
@@ -11259,9 +4558,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %399 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %400 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %398 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %398 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -11574,1628 +4870,11 @@
 [debug/ast-codegen]                       - type::ResolvedID <resolved="%26"> (type: foo::Priv9) (unused-types.spicy:42:21-44:2) (non-const)
 [debug/ast-codegen]                         - ID <name="foo::Priv9"> (unused-types.spicy:42:21-44:2)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen] # foo: Preserved nodes
-[debug/ast-codegen]   - declaration::Type %27 <linkage="private"> (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - ID <name="Priv1"> (unused-types.spicy:14:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:14:14) (non-const) (top-level scope) (type-id: foo::Priv1)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %28 <public="false"> (unused-types.spicy:14:14) (non-const) (top-level scope) (type-id: foo::Priv1)
-[debug/ast-codegen]   - declaration::Type %29 (original %27) <linkage="private"> (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - ID <name="Priv1"> (unused-types.spicy:14:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:14:14) (non-const) (top-level scope) (type-id: foo::Priv1)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %30 <linkage="public"> (unused-types.spicy:17:1)
-[debug/ast-codegen]     - ID <name="Pub2"> (unused-types.spicy:17:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:17:20) (non-const) (top-level scope) (type-id: foo::Pub2)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %31 <public="true"> (unused-types.spicy:17:20) (non-const) (top-level scope) (type-id: foo::Pub2)
-[debug/ast-codegen]   - declaration::Type %32 (original %30) <linkage="public"> (unused-types.spicy:17:1)
-[debug/ast-codegen]     - ID <name="Pub2"> (unused-types.spicy:17:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (unused-types.spicy:17:20) (non-const) (top-level scope) (type-id: foo::Pub2)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %33 <linkage="private"> (unused-types.spicy:17:28-20:22)
-[debug/ast-codegen]     - ID <name="Priv2"> (unused-types.spicy:20:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:20:14) (non-const) (top-level scope) (type-id: foo::Priv2)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %34 <public="false"> (unused-types.spicy:20:14) (non-const) (top-level scope) (type-id: foo::Priv2)
-[debug/ast-codegen]   - declaration::Type %35 (original %33) <linkage="private"> (unused-types.spicy:17:28-20:22)
-[debug/ast-codegen]     - ID <name="Priv2"> (unused-types.spicy:20:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:20:14) (non-const) (top-level scope) (type-id: foo::Priv2)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %36 <linkage="private"> (unused-types.spicy:20:22-21:22)
-[debug/ast-codegen]     - ID <name="Priv3"> (unused-types.spicy:21:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:21:14) (non-const) (top-level scope) (type-id: foo::Priv3)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %37 <public="false"> (unused-types.spicy:21:14) (non-const) (top-level scope) (type-id: foo::Priv3)
-[debug/ast-codegen]   - declaration::Type %38 (original %36) <linkage="private"> (unused-types.spicy:20:22-21:22)
-[debug/ast-codegen]     - ID <name="Priv3"> (unused-types.spicy:21:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:21:14) (non-const) (top-level scope) (type-id: foo::Priv3)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %39 <linkage="private"> (unused-types.spicy:21:22-24:17)
-[debug/ast-codegen]     - ID <name="Priv4"> (unused-types.spicy:22:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:22:14-24:16) (non-const) (top-level scope) (type-id: foo::Priv4)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - ID <name="anon"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]             - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:24:5)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %42 <public="false"> (unused-types.spicy:22:14-24:16) (non-const) (top-level scope) (type-id: foo::Priv4)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - ID <name="anon"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]           - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]       - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:24:5)
-[debug/ast-codegen]       - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]       - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]       - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %43 (original %39) <linkage="private"> (unused-types.spicy:21:22-24:17)
-[debug/ast-codegen]     - ID <name="Priv4"> (unused-types.spicy:22:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:22:14-24:16) (non-const) (top-level scope) (type-id: foo::Priv4)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %40 <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - ID <name="anon"> (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%20"> (type: foo::Priv2) (unused-types.spicy:22:20-23:13) (non-const)
-[debug/ast-codegen]             - ID <name="Priv2"> (unused-types.spicy:23:7)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %41 <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:24:5)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%21"> (type: foo::Priv3) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - ID <name="Priv3"> (unused-types.spicy:24:8)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %44 <linkage="private"> (unused-types.spicy:24:17-27:22)
-[debug/ast-codegen]     - ID <name="Priv5"> (unused-types.spicy:27:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:27:14) (non-const) (top-level scope) (type-id: foo::Priv5)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %45 <public="false"> (unused-types.spicy:27:14) (non-const) (top-level scope) (type-id: foo::Priv5)
-[debug/ast-codegen]   - declaration::Type %46 (original %44) <linkage="private"> (unused-types.spicy:24:17-27:22)
-[debug/ast-codegen]     - ID <name="Priv5"> (unused-types.spicy:27:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:27:14) (non-const) (top-level scope) (type-id: foo::Priv5)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %47 <linkage="private"> (unused-types.spicy:27:22-28:22)
-[debug/ast-codegen]     - ID <name="Priv6"> (unused-types.spicy:28:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:28:14) (non-const) (top-level scope) (type-id: foo::Priv6)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %48 <public="false"> (unused-types.spicy:28:14) (non-const) (top-level scope) (type-id: foo::Priv6)
-[debug/ast-codegen]   - declaration::Type %49 (original %47) <linkage="private"> (unused-types.spicy:27:22-28:22)
-[debug/ast-codegen]     - ID <name="Priv6"> (unused-types.spicy:28:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:28:14) (non-const) (top-level scope) (type-id: foo::Priv6)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %50 <linkage="public"> (unused-types.spicy:29:1-32:3)
-[debug/ast-codegen]     - ID <name="Pub3"> (unused-types.spicy:29:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:29:20-32:2) (non-const) (top-level scope) (type-id: foo::Pub3)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]         - ID <name="anon_2"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]             - ID <name="Priv5"> (unused-types.spicy:30:7)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:31:5)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]             - ID <name="Priv6"> (unused-types.spicy:31:8)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %53 <public="true"> (unused-types.spicy:29:20-32:2) (non-const) (top-level scope) (type-id: foo::Pub3)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]       - ID <name="anon_2"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]       - type::ValueReference (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]           - ID <name="Priv5"> (unused-types.spicy:30:7)
-[debug/ast-codegen]       - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:31:5)
-[debug/ast-codegen]       - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]       - type::ValueReference (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - ID <name="Priv6"> (unused-types.spicy:31:8)
-[debug/ast-codegen]       - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %54 (original %50) <linkage="public"> (unused-types.spicy:29:1-32:3)
-[debug/ast-codegen]     - ID <name="Pub3"> (unused-types.spicy:29:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (unused-types.spicy:29:20-32:2) (non-const) (top-level scope) (type-id: foo::Pub3)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %51 <engine="parser/composer" forwarding="false" transient="true"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]         - ID <name="anon_2"> (unused-types.spicy:29:26-30:13)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%23"> (type: foo::Priv5) (unused-types.spicy:29:26-30:13) (non-const)
-[debug/ast-codegen]             - ID <name="Priv5"> (unused-types.spicy:30:7)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %52 <engine="parser/composer" forwarding="false" transient="false"> (unused-types.spicy:31:5)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]         - type::ValueReference (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%24"> (type: foo::Priv6) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]             - ID <name="Priv6"> (unused-types.spicy:31:8)
-[debug/ast-codegen]         - node::None (unused-types.spicy:22:20-23:13)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %55 <linkage="public"> (unused-types.spicy:42:1-44:3)
-[debug/ast-codegen]     - ID <name="Priv9"> (unused-types.spicy:42:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-types.spicy:42:21-44:2) (non-const) (top-level scope) (type-id: foo::Priv9)
-[debug/ast-codegen]       - spicy::type::unit::item::Variable (unused-types.spicy:43:5)
-[debug/ast-codegen]         - ID <name="en"> (unused-types.spicy:43:9)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%12"> (type: foo::Priv8) (unused-types.spicy:43:5) (non-const)
-[debug/ast-codegen]           - ID <name="foo::Priv8"> (unused-types.spicy:43:5)
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%110"> (type: foo::Priv8) (unused-types.spicy:43:21) (const)
-[debug/ast-codegen]           - ID <name="Priv8::A"> (unused-types.spicy:43:21)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - spicy::type::Unit %56 <public="true"> (unused-types.spicy:42:21-44:2) (non-const) (top-level scope) (type-id: foo::Priv9)
-[debug/ast-codegen]     - spicy::type::unit::item::Variable (unused-types.spicy:43:5)
-[debug/ast-codegen]       - ID <name="en"> (unused-types.spicy:43:9)
-[debug/ast-codegen]       - type::ResolvedID <resolved="%12"> (type: foo::Priv8) (unused-types.spicy:43:5) (non-const)
-[debug/ast-codegen]         - ID <name="foo::Priv8"> (unused-types.spicy:43:5)
-[debug/ast-codegen]       - expression::ResolvedID <resolved="%110"> (type: foo::Priv8) (unused-types.spicy:43:21) (const)
-[debug/ast-codegen]         - ID <name="Priv8::A"> (unused-types.spicy:43:21)
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - declaration::Type %57 (original %55) <linkage="public"> (unused-types.spicy:42:1-44:3)
-[debug/ast-codegen]     - ID <name="Priv9"> (unused-types.spicy:42:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (unused-types.spicy:42:21-44:2) (non-const) (top-level scope) (type-id: foo::Priv9)
-[debug/ast-codegen]       - spicy::type::unit::item::Variable (unused-types.spicy:43:5)
-[debug/ast-codegen]         - ID <name="en"> (unused-types.spicy:43:9)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%12"> (type: foo::Priv8) (unused-types.spicy:43:5) (non-const)
-[debug/ast-codegen]           - ID <name="foo::Priv8"> (unused-types.spicy:43:5)
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%110"> (type: foo::Priv8) (unused-types.spicy:43:21) (const)
-[debug/ast-codegen]           - ID <name="Priv8::A"> (unused-types.spicy:43:21)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %574 <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %575 <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %576 <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %577 <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %578 <kind="method call"> (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%60"> (type: value_ref<foo::Priv1>) (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:14:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:14:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:14:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:14:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:14:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %579 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%129"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%126"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%130"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%131"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%132"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %580 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%137"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%134"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%138"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%139"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%140"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %581 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%141"> (type: value_ref<foo::Priv1>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%142"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%145"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%146"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%147"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %582 <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:17:20)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:17:20)
-[debug/ast-codegen]   - expression::UnresolvedOperator %583 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Pub2_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Pub2_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%156"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%156"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%150"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%151"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%152"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %584 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%148"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%149"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %585 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Pub2_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Pub2_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%148"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%149"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%150"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%151"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%152"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %586 <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:17:20)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:17:20)
-[debug/ast-codegen]   - expression::UnresolvedOperator %587 <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:17:20)
-[debug/ast-codegen]   - expression::UnresolvedOperator %588 <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:17:20)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:17:20)
-[debug/ast-codegen]   - expression::UnresolvedOperator %589 <kind="method call"> (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::Pub2>) (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:17:20)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:17:20)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:17:20) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:17:20) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:17:20)
-[debug/ast-codegen]   - expression::UnresolvedOperator %590 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%166"> (type: value_ref<foo::Pub2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%163"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%167"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%168"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%169"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %591 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%174"> (type: value_ref<foo::Pub2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%171"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%175"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%176"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%177"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %592 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%178"> (type: value_ref<foo::Pub2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%179"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%182"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%183"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%184"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %593 <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %594 <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %595 <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %596 <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %597 <kind="method call"> (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%71"> (type: value_ref<foo::Priv2>) (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:20:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:20:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:20:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:20:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:20:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %598 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%194"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%191"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%195"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%196"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%197"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %599 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%202"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%199"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%203"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%204"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%205"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %600 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%206"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%207"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%210"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%211"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%212"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %601 <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %602 <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %603 <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %604 <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %605 <kind="method call"> (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%76"> (type: value_ref<foo::Priv3>) (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:21:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:21:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:21:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:21:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:21:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %606 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%222"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%219"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%223"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%224"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%225"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %607 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%230"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%227"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%231"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%232"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%233"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %608 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%234"> (type: value_ref<foo::Priv3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%235"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%238"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%239"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%240"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %609 <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]   - expression::UnresolvedOperator %610 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%247"> (type: value_ref<foo::Priv2>) (non-const)
-[debug/ast-codegen]       - ID <name="__transient_anon">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %611 <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %612 <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %613 <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %614 <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %615 <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %616 <kind="method call"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ID <name="__on_x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - ID <name="__on_x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:24:5)
-[debug/ast-codegen]         - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]               - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]           - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]             - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]             - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]   - expression::UnresolvedOperator %617 <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]   - expression::UnresolvedOperator %618 <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]   - expression::UnresolvedOperator %619 <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]   - expression::UnresolvedOperator %620 <kind="method call"> (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:22:14-24:16) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:22:14-24:16) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:22:14-24:16)
-[debug/ast-codegen]   - expression::UnresolvedOperator %621 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%251"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%248"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%252"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%253"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%254"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %622 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%259"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%256"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%260"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%261"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%262"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %623 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%263"> (type: value_ref<foo::Priv4>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%264"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%267"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%268"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%269"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %624 <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:27:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %625 <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:27:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %626 <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:27:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %627 <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:27:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %628 <kind="method call"> (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%86"> (type: value_ref<foo::Priv5>) (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:27:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:27:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:27:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:27:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:27:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %629 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%279"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%276"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%280"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%281"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%282"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %630 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%287"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%284"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%288"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%289"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%290"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %631 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%291"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%292"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%295"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%296"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%297"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %632 <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:28:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %633 <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:28:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %634 <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:28:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %635 <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:28:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %636 <kind="method call"> (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%91"> (type: value_ref<foo::Priv6>) (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:28:14)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:28:14)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:28:14) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:28:14) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:28:14)
-[debug/ast-codegen]   - expression::UnresolvedOperator %637 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%307"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%304"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%308"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%309"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%310"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %638 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%315"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%312"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%316"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%317"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%318"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %639 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%319"> (type: value_ref<foo::Priv6>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%320"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%323"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%324"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%325"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %640 <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %641 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Pub3_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Pub3_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%334"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%334"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%328"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%329"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%330"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %642 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%326"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%327"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %643 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Pub3_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Pub3_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%326"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%327"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%328"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%329"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%330"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %644 <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %645 <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %646 <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %647 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%341"> (type: value_ref<foo::Priv5>) (non-const)
-[debug/ast-codegen]       - ID <name="__transient_anon_2">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%335"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%336"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%337"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%338"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%339"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %648 <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %649 <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %650 <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %651 <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %652 <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="x">
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]   - expression::UnresolvedOperator %653 <kind="method call"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ID <name="__on_x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - ID <name="__on_x">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:31:5)
-[debug/ast-codegen]         - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]             - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]               - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]           - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]             - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]             - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]             - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]               - ID <name="x">
-[debug/ast-codegen]   - expression::UnresolvedOperator %654 <kind="method call"> (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:29:20-32:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:29:20-32:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:29:20-32:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %655 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%345"> (type: value_ref<foo::Pub3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%342"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%346"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%347"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%348"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %656 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%353"> (type: value_ref<foo::Pub3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%350"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%354"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%355"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%356"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %657 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%357"> (type: value_ref<foo::Pub3>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%358"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%361"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%362"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%363"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %658 <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %659 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Priv9_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Priv9_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%372"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%372"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%366"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%367"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%368"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %660 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%364"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%365"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %661 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_Priv9_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_Priv9_stage2">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%364"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%365"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%366"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%367"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%368"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %662 <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %663 <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %664 <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %665 <kind="method call"> (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::Priv9>) (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]     - expression::Member (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]       - type::Member (unused-types.spicy:42:21-44:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (unused-types.spicy:42:21-44:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-types.spicy:42:21-44:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %666 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%382"> (type: value_ref<foo::Priv9>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%379"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%383"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%384"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%385"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %667 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%390"> (type: value_ref<foo::Priv9>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%387"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%391"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%392"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%393"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %668 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%394"> (type: value_ref<foo::Priv9>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%395"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%398"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%399"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%400"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %763 <kind="method call"> (non-const)
-[debug/ast-codegen]     - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]       - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%81"> (type: value_ref<foo::Priv4>) (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - ID <name="self"> (unused-types.spicy:24:5)
-[debug/ast-codegen]       - expression::Member (unused-types.spicy:24:5) (const)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:24:5)
-[debug/ast-codegen]         - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - ID <name="x">
-[debug/ast-codegen]         - type::Member (unused-types.spicy:24:5) (non-const)
-[debug/ast-codegen]           - ID <name="x">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%241"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%242"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%243"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%244"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%245"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %764 <kind="method call"> (non-const)
-[debug/ast-codegen]     - operator_::struct_::MemberNonConst <kind="."> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]       - operator_::value_reference::Deref <kind="*"> (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]         - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%96"> (type: value_ref<foo::Pub3>) (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - ID <name="self"> (unused-types.spicy:31:5)
-[debug/ast-codegen]       - expression::Member (unused-types.spicy:31:5) (const)
-[debug/ast-codegen]         - ID <name="x"> (unused-types.spicy:31:5)
-[debug/ast-codegen]         - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - ID <name="x">
-[debug/ast-codegen]         - type::Member (unused-types.spicy:31:5) (non-const)
-[debug/ast-codegen]           - ID <name="x">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%335"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%336"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%337"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%338"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%339"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
 [debug/ast-codegen] # hilti: AST for codegen
 [debug/ast-codegen]   - Module %58 (hilti.hlt:2:1-38:2)
-[debug/ast-codegen]       | AddressFamily -> declaration::Type %417 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %402 <linkage="public">
-[debug/ast-codegen]       | ByteOrder -> declaration::Type %406 <linkage="public">
-[debug/ast-codegen]       | Captures -> declaration::Type %530 <linkage="public">
-[debug/ast-codegen]       | Charset -> declaration::Type %430 <linkage="public">
-[debug/ast-codegen]       | Exception -> declaration::Type %540 <linkage="public">
-[debug/ast-codegen]       | MatchState -> declaration::Type %434 <linkage="public">
-[debug/ast-codegen]       | Protocol -> declaration::Type %425 <linkage="public">
-[debug/ast-codegen]       | RealType -> declaration::Type %421 <linkage="public">
-[debug/ast-codegen]       | RuntimeError -> declaration::Type %541 <linkage="public">
-[debug/ast-codegen]       | Side -> declaration::Type %412 <linkage="public">
-[debug/ast-codegen]       | abort -> declaration::Function %538 <linkage="public">
-[debug/ast-codegen]       | current_time -> declaration::Function %536 <linkage="public">
-[debug/ast-codegen]       | debug -> declaration::Function %533 <linkage="public">
-[debug/ast-codegen]       | debugDedent -> declaration::Function %535 <linkage="public">
-[debug/ast-codegen]       | debugIndent -> declaration::Function %534 <linkage="public">
-[debug/ast-codegen]       | hilti -> declaration::Module %846 <id="hilti">
-[debug/ast-codegen]       | linker_scope -> declaration::Function %539 <linkage="public">
-[debug/ast-codegen]       | mktime -> declaration::Function %537 <linkage="public">
-[debug/ast-codegen]       | print -> declaration::Function %531 <linkage="public">
-[debug/ast-codegen]       | printValues -> declaration::Function %532 <linkage="public">
 [debug/ast-codegen]     - ID <name="hilti"> (hilti.hlt:2:8)
 [debug/ast-codegen]     - statement::Block (hilti.hlt:2:1-38:2)
 [debug/ast-codegen]     - declaration::Type %402 <linkage="public"> (hilti.hlt:4:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %820 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %821 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %822 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (hilti.hlt:4:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:4:24) (non-const) (type-id: hilti::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:4:31)
@@ -13209,11 +4888,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:4:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (hilti.hlt:4:53)
 [debug/ast-codegen]     - declaration::Type %406 <linkage="public"> (hilti.hlt:5:1)
-[debug/ast-codegen]         | Big -> declaration::Constant %824 <linkage="public">
-[debug/ast-codegen]         | Host -> declaration::Constant %826 <linkage="public">
-[debug/ast-codegen]         | Little -> declaration::Constant %823 <linkage="public">
-[debug/ast-codegen]         | Network -> declaration::Constant %825 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %827 <linkage="public">
 [debug/ast-codegen]       - ID <name="ByteOrder"> (hilti.hlt:5:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:5:25) (non-const) (type-id: hilti::ByteOrder) (cxx-id: hilti::rt::ByteOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:5:32)
@@ -13231,10 +4905,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:5:70) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::ByteOrder"> (hilti.hlt:5:70)
 [debug/ast-codegen]     - declaration::Type %412 <linkage="public"> (hilti.hlt:6:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %830 <linkage="public">
-[debug/ast-codegen]         | Left -> declaration::Constant %828 <linkage="public">
-[debug/ast-codegen]         | Right -> declaration::Constant %829 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %831 <linkage="public">
 [debug/ast-codegen]       - ID <name="Side"> (hilti.hlt:6:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:6:20) (non-const) (type-id: hilti::Side) (cxx-id: hilti::rt::bytes::Side)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:6:27)
@@ -13250,9 +4920,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:6:56) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::bytes::Side"> (hilti.hlt:6:56)
 [debug/ast-codegen]     - declaration::Type %417 <linkage="public"> (hilti.hlt:7:1)
-[debug/ast-codegen]         | IPv4 -> declaration::Constant %832 <linkage="public">
-[debug/ast-codegen]         | IPv6 -> declaration::Constant %833 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %834 <linkage="public">
 [debug/ast-codegen]       - ID <name="AddressFamily"> (hilti.hlt:7:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:7:29) (non-const) (type-id: hilti::AddressFamily) (cxx-id: hilti::rt::AddressFamily)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:7:36)
@@ -13266,9 +4933,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:7:58) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::AddressFamily"> (hilti.hlt:7:58)
 [debug/ast-codegen]     - declaration::Type %421 <linkage="public"> (hilti.hlt:8:1)
-[debug/ast-codegen]         | IEEE754_Double -> declaration::Constant %836 <linkage="public">
-[debug/ast-codegen]         | IEEE754_Single -> declaration::Constant %835 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %837 <linkage="public">
 [debug/ast-codegen]       - ID <name="RealType"> (hilti.hlt:8:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:8:24) (non-const) (type-id: hilti::RealType) (cxx-id: hilti::rt::real::Type)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:8:31)
@@ -13282,10 +4946,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:8:73) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::real::Type"> (hilti.hlt:8:73)
 [debug/ast-codegen]     - declaration::Type %425 <linkage="public"> (hilti.hlt:9:1)
-[debug/ast-codegen]         | ICMP -> declaration::Constant %840 <linkage="public">
-[debug/ast-codegen]         | TCP -> declaration::Constant %838 <linkage="public">
-[debug/ast-codegen]         | UDP -> declaration::Constant %839 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %841 <linkage="public">
 [debug/ast-codegen]       - ID <name="Protocol"> (hilti.hlt:9:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:9:24) (non-const) (type-id: hilti::Protocol) (cxx-id: hilti::rt::Protocol)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:9:31)
@@ -13301,9 +4961,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:9:57) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::Protocol"> (hilti.hlt:9:57)
 [debug/ast-codegen]     - declaration::Type %430 <linkage="public"> (hilti.hlt:10:1)
-[debug/ast-codegen]         | ASCII -> declaration::Constant %842 <linkage="public">
-[debug/ast-codegen]         | UTF8 -> declaration::Constant %843 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %844 <linkage="public">
 [debug/ast-codegen]       - ID <name="Charset"> (hilti.hlt:10:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:10:23) (non-const) (type-id: hilti::Charset) (cxx-id: hilti::rt::bytes::Charset)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:10:30)
@@ -13322,7 +4979,6 @@
 [debug/ast-codegen]         - type::Bytes (hilti.hlt:11:31) (non-const)
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %434 <linkage="public"> (hilti.hlt:13:1-15:44)
-[debug/ast-codegen]         | self -> declaration::Expression %845 <linkage="private"> (type: value_ref<hilti::MatchState>)
 [debug/ast-codegen]       - ID <name="MatchState"> (hilti.hlt:13:13)
 [debug/ast-codegen]       - type::Struct (hilti.hlt:13:26-15:2) (non-const) (top-level scope) (type-id: hilti::MatchState) (cxx-id: hilti::rt::regexp::MatchState)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
@@ -13343,58 +4999,10 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (hilti.hlt:15:3)
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:15:12) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::regexp::MatchState"> (hilti.hlt:15:12)
-[debug/ast-codegen]     - declaration::Function %531 <linkage="public"> (hilti.hlt:17:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:17:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %437 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %436 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="print"> (hilti.hlt:17:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:17:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:17:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:17:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %436 <is_struct_param="false" kind="in"> (hilti.hlt:17:27)
-[debug/ast-codegen]             - ID <name="obj"> (hilti.hlt:17:31)
-[debug/ast-codegen]             - type::Any (hilti.hlt:17:27) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %437 <is_struct_param="false" kind="in"> (hilti.hlt:17:35)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:17:41)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:17:36) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:51) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:17:51)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:17:57)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:17:57)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:66) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::print"> (hilti.hlt:17:66)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:17:85)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %532 <linkage="public"> (hilti.hlt:18:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:18:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %439 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | t -> declaration::Parameter %438 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="printValues"> (hilti.hlt:18:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:18:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:18:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:18:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %438 <is_struct_param="false" kind="in"> (hilti.hlt:18:33)
-[debug/ast-codegen]             - ID <name="t"> (hilti.hlt:18:42)
-[debug/ast-codegen]             - type::Tuple <wildcard="true"> (hilti.hlt:18:33) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %439 <is_struct_param="false" kind="in"> (hilti.hlt:18:44)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:18:50)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:18:45) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:60) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:18:60)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:18:66)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:18:66)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:75) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::printValues"> (hilti.hlt:18:75)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:18:100)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %531 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %532 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %533 <linkage="public"> (hilti.hlt:20:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:20:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %440 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %441 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debug"> (hilti.hlt:20:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:20:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:20:16)
@@ -13416,7 +5024,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %534 <linkage="public"> (hilti.hlt:21:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:21:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %442 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugIndent"> (hilti.hlt:21:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:21:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:21:16)
@@ -13434,7 +5041,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %535 <linkage="public"> (hilti.hlt:22:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:22:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %443 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugDedent"> (hilti.hlt:22:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:22:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:22:16)
@@ -13450,75 +5056,9 @@
 [debug/ast-codegen]               - ctor::String <value="hilti::rt::debug::dedent"> (hilti.hlt:22:61)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:22:88)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %536 <linkage="public"> (hilti.hlt:24:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:24:15)
-[debug/ast-codegen]         - ID <name="current_time"> (hilti.hlt:24:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:24:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:24:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:24:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:24:36)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:24:36)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:24:45) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::current_time"> (hilti.hlt:24:45)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:24:77)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %537 <linkage="public"> (hilti.hlt:25:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:25:15)
-[debug/ast-codegen]           | H -> declaration::Parameter %447 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | M -> declaration::Parameter %448 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | S -> declaration::Parameter %449 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | d -> declaration::Parameter %446 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | m -> declaration::Parameter %445 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | y -> declaration::Parameter %444 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="mktime"> (hilti.hlt:25:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:25:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:25:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:25:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %444 <is_struct_param="false" kind="in"> (hilti.hlt:25:28)
-[debug/ast-codegen]             - ID <name="y"> (hilti.hlt:25:37)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:28) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %445 <is_struct_param="false" kind="in"> (hilti.hlt:25:39)
-[debug/ast-codegen]             - ID <name="m"> (hilti.hlt:25:49)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:40) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %446 <is_struct_param="false" kind="in"> (hilti.hlt:25:51)
-[debug/ast-codegen]             - ID <name="d"> (hilti.hlt:25:61)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:52) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %447 <is_struct_param="false" kind="in"> (hilti.hlt:25:63)
-[debug/ast-codegen]             - ID <name="H"> (hilti.hlt:25:73)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:64) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %448 <is_struct_param="false" kind="in"> (hilti.hlt:25:75)
-[debug/ast-codegen]             - ID <name="M"> (hilti.hlt:25:85)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:76) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %449 <is_struct_param="false" kind="in"> (hilti.hlt:25:87)
-[debug/ast-codegen]             - ID <name="S"> (hilti.hlt:25:97)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:88) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:25:100)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:25:100)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:25:109) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::mktime"> (hilti.hlt:25:109)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:25:135)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %538 <linkage="public"> (hilti.hlt:27:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:27:15)
-[debug/ast-codegen]         - ID <name="abort"> (hilti.hlt:27:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:27:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:27:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:27:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:27:29)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:27:29)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:27:38) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::abort_with_backtrace"> (hilti.hlt:27:38)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:27:72)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %536 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %537 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %538 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %539 <linkage="public"> (hilti.hlt:29:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:29:15)
 [debug/ast-codegen]         - ID <name="linker_scope"> (hilti.hlt:29:23)
@@ -13550,43 +5090,6 @@
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::RuntimeError"> (hilti.hlt:36:47)
 [debug/ast-codegen] # spicy_rt: AST for codegen
 [debug/ast-codegen]   - Module %59 (spicy_rt.hlt:1:1-85:2)
-[debug/ast-codegen]       | Backtrack -> declaration::Type %543 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %513 <linkage="public">
-[debug/ast-codegen]       | Direction -> declaration::Type %469 <linkage="public">
-[debug/ast-codegen]       | Filters -> declaration::Type %549 <linkage="public">
-[debug/ast-codegen]       | FindDirection -> declaration::Type %559 <linkage="public">
-[debug/ast-codegen]       | Forward -> declaration::Type %550 <linkage="public">
-[debug/ast-codegen]       | HiltiResumable -> declaration::Type %548 <linkage="public">
-[debug/ast-codegen]       | MIMEType -> declaration::Type %560 <linkage="public">
-[debug/ast-codegen]       | ParseError -> declaration::Type %542 <linkage="public">
-[debug/ast-codegen]       | ParsedUnit -> declaration::Type %546 <linkage="public">
-[debug/ast-codegen]       | Parser -> declaration::Type %467 <linkage="public">
-[debug/ast-codegen]       | ParserPort -> declaration::Type %561 <linkage="public">
-[debug/ast-codegen]       | Sink -> declaration::Type %451 <linkage="public">
-[debug/ast-codegen]       | SinkState -> declaration::Type %545 <linkage="public">
-[debug/ast-codegen]       | TypeInfo -> declaration::Type %547 <linkage="public">
-[debug/ast-codegen]       | UnitAlreadyConnected -> declaration::Type %544 <linkage="public">
-[debug/ast-codegen]       | UnitContext -> declaration::Type %556 <linkage="public">
-[debug/ast-codegen]       | atEod -> declaration::Function %569 <linkage="public">
-[debug/ast-codegen]       | backtrack -> declaration::Function %571 <linkage="public">
-[debug/ast-codegen]       | createContext -> declaration::Function %557 <linkage="public">
-[debug/ast-codegen]       | extractBits -> declaration::Function %572 <linkage="public">
-[debug/ast-codegen]       | filter_connect -> declaration::Function %552 <linkage="public">
-[debug/ast-codegen]       | filter_disconnect -> declaration::Function %553 <linkage="public">
-[debug/ast-codegen]       | filter_forward -> declaration::Function %554 <linkage="public">
-[debug/ast-codegen]       | filter_forward_eod -> declaration::Function %555 <linkage="public">
-[debug/ast-codegen]       | filter_init -> declaration::Function %551 <linkage="public">
-[debug/ast-codegen]       | initializeParsedUnit -> declaration::Function %573 <linkage="public">
-[debug/ast-codegen]       | printParserState -> declaration::Function %563 <linkage="public">
-[debug/ast-codegen]       | registerParser -> declaration::Function %562 <linkage="public">
-[debug/ast-codegen]       | setContext -> declaration::Function %558 <linkage="public">
-[debug/ast-codegen]       | spicy_rt -> declaration::Module %856 <id="spicy_rt">
-[debug/ast-codegen]       | unit_find -> declaration::Function %570 <linkage="public">
-[debug/ast-codegen]       | waitForEod -> declaration::Function %568 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %566 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %567 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %564 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %565 <linkage="public">
 [debug/ast-codegen]     - ID <name="spicy_rt"> (spicy_rt.hlt:1:8)
 [debug/ast-codegen]     - statement::Block (spicy_rt.hlt:1:1-85:2)
 [debug/ast-codegen]     - declaration::Type %542 <linkage="public"> (spicy_rt.hlt:3:1)
@@ -13626,7 +5129,6 @@
 [debug/ast-codegen]       - type::Library <cxx_name="const hilti::rt::TypeInfo*"> (spicy_rt.hlt:11:24) (non-const) (type-id: spicy_rt::TypeInfo)
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %451 <linkage="public"> (spicy_rt.hlt:14:1-29:30)
-[debug/ast-codegen]         | self -> declaration::Expression %847 <linkage="private"> (type: value_ref<spicy_rt::Sink>)
 [debug/ast-codegen]       - ID <name="Sink"> (spicy_rt.hlt:14:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:14:20-29:2) (non-const) (top-level scope) (type-id: spicy_rt::Sink) (cxx-id: spicy::rt::Sink)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
@@ -13828,9 +5330,6 @@
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %551 <linkage="public"> (spicy_rt.hlt:36:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:36:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %455 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %454 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %453 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_init"> (spicy_rt.hlt:36:35)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:36:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:36:16)
@@ -13857,33 +5356,9 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::init"> (spicy_rt.hlt:36:120)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:36:146)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %552 <linkage="public"> (spicy_rt.hlt:37:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:37:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %457 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %456 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_connect"> (spicy_rt.hlt:37:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:37:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:37:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:37:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %456 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:37:36)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:37:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:37:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %457 <is_struct_param="false" kind="in"> (spicy_rt.hlt:37:51)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:37:66)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:37:52) (non-const) (wildcard)
-[debug/ast-codegen]               - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:37:74)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:37:74)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:37:83) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::connect"> (spicy_rt.hlt:37:83)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:37:112)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %552 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %553 <linkage="public"> (spicy_rt.hlt:38:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:38:15)
-[debug/ast-codegen]           | unit -> declaration::Parameter %458 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_disconnect"> (spicy_rt.hlt:38:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:38:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:38:16)
@@ -13899,109 +5374,15 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::disconnect"> (spicy_rt.hlt:38:64)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:38:96)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %554 <linkage="public"> (spicy_rt.hlt:39:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:39:15)
-[debug/ast-codegen]           | b -> declaration::Parameter %460 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filter -> declaration::Parameter %459 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_forward"> (spicy_rt.hlt:39:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:39:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:39:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:39:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %459 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:39:36)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:39:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:39:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %460 <is_struct_param="false" kind="in"> (spicy_rt.hlt:39:53)
-[debug/ast-codegen]             - ID <name="b"> (spicy_rt.hlt:39:60)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:39:54) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:39:63)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:39:63)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:39:72) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::forward"> (spicy_rt.hlt:39:72)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:39:101)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %555 <linkage="public"> (spicy_rt.hlt:40:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:40:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %461 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_forward_eod"> (spicy_rt.hlt:40:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:40:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:40:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:40:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %461 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:40:40)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:40:50)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:40:46) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:40:58)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:40:58)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:40:67) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::forward_eod"> (spicy_rt.hlt:40:67)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:40:100)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %554 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %555 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %556 <linkage="public"> (spicy_rt.hlt:42:1)
 [debug/ast-codegen]       - ID <name="UnitContext"> (spicy_rt.hlt:42:13)
 [debug/ast-codegen]       - type::Library <cxx_name="spicy::rt::UnitContext"> (spicy_rt.hlt:42:27) (non-const) (type-id: spicy_rt::UnitContext)
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %557 <linkage="public"> (spicy_rt.hlt:43:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:43:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %462 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %463 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="createContext"> (spicy_rt.hlt:43:28)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:43:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:43:16)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:43:16) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:43:16)
-[debug/ast-codegen]           - declaration::Parameter %462 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:42)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:43:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:43:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %463 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:43:60)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%547"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:43:50) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:43:64)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:43:64)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:43:73) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::createContext"> (spicy_rt.hlt:43:73)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:43:108)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %558 <linkage="public"> (spicy_rt.hlt:44:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:44:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %465 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %466 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %464 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="setContext"> (spicy_rt.hlt:44:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:44:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:44:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:44:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %464 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:44:32)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:44:42)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:44:38) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %465 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:47)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:44:70)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%556"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:44:48)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %466 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:44:84)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%547"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:44:74) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:44:88)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:44:88)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:44:97) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::setContext"> (spicy_rt.hlt:44:97)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:44:129)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %557 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %558 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %467 <linkage="public"> (spicy_rt.hlt:48:1-58:32)
-[debug/ast-codegen]         | self -> declaration::Expression %848 <linkage="private"> (type: value_ref<spicy_rt::Parser>)
 [debug/ast-codegen]       - ID <name="Parser"> (spicy_rt.hlt:48:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:48:22-58:2) (non-const) (top-level scope) (type-id: spicy_rt::Parser) (cxx-id: spicy::rt::Parser)
 [debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
@@ -14067,10 +5448,6 @@
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:58:12) (const)
 [debug/ast-codegen]             - ctor::String <value="spicy::rt::Parser"> (spicy_rt.hlt:58:12)
 [debug/ast-codegen]     - declaration::Type %469 <linkage="public"> (spicy_rt.hlt:60:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %851 <linkage="public">
-[debug/ast-codegen]         | Originator -> declaration::Constant %849 <linkage="public">
-[debug/ast-codegen]         | Responder -> declaration::Constant %850 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %852 <linkage="public">
 [debug/ast-codegen]       - ID <name="Direction"> (spicy_rt.hlt:60:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:60:25) (non-const) (type-id: spicy_rt::Direction) (cxx-id: spicy::rt::Direction)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:60:32)
@@ -14099,9 +5476,6 @@
 [debug/ast-codegen]       - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %562 <linkage="public"> (spicy_rt.hlt:65:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:65:15)
-[debug/ast-codegen]           | instance -> declaration::Parameter %476 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | linker_scope -> declaration::Parameter %475 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | parse_func -> declaration::Parameter %474 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="registerParser"> (spicy_rt.hlt:65:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:65:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:65:16)
@@ -14128,13 +5502,6 @@
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %563 <linkage="public"> (spicy_rt.hlt:66:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:66:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %479 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %478 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead -> declaration::Parameter %480 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead_end -> declaration::Parameter %481 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | literal_mode -> declaration::Parameter %482 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | trim -> declaration::Parameter %483 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit_id -> declaration::Parameter %477 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="printParserState"> (spicy_rt.hlt:66:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:66:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:66:16)
@@ -14176,286 +5543,15 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::printParserState"> (spicy_rt.hlt:66:182)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:66:220)
 [debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %564 <linkage="public"> (spicy_rt.hlt:68:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:68:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %485 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %484 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %486 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:68:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:68:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:68:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:68:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %484 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:68:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:68:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:55) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %485 <is_struct_param="false" kind="in"> (spicy_rt.hlt:68:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:68:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:68:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:74)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %486 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:87)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:68:113)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:68:93)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:68:122)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:68:122)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:68:131) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:68:131)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:68:170)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %565 <linkage="public"> (spicy_rt.hlt:69:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:69:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %488 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %487 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %490 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | n -> declaration::Parameter %489 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:69:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:69:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:69:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:69:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %487 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:69:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:69:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:55) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %488 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:69:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:69:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:74)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %489 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:86)
-[debug/ast-codegen]             - ID <name="n"> (spicy_rt.hlt:69:96)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:69:87) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %490 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:99)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:69:125)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:69:105)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:69:134)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:69:134)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:69:143) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:69:143)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:69:182)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %566 <linkage="public"> (spicy_rt.hlt:70:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:70:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %492 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %491 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %493 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %495 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | location -> declaration::Parameter %494 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:70:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:70:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:70:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:70:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %491 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:70:34)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:70:58)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:70:40) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:70:50) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %492 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:63)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:70:77)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:70:69) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:70:69)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %493 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:81)
-[debug/ast-codegen]             - ID <name="error_msg"> (spicy_rt.hlt:70:89)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:70:82) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %494 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:99)
-[debug/ast-codegen]             - ID <name="location"> (spicy_rt.hlt:70:107)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:70:100) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %495 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:70:117)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:70:143)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:70:123) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:70:123) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:70:123)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:70:152)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:70:152)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:70:161) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInput"> (spicy_rt.hlt:70:161)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:70:195)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %567 <linkage="public"> (spicy_rt.hlt:71:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:71:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %497 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %496 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %499 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %501 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | location -> declaration::Parameter %500 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | n -> declaration::Parameter %498 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:71:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:71:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:71:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:71:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %496 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:71:34)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:71:58)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:71:40) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:71:50) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %497 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:63)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:71:77)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:71:69) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:71:69)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %498 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:81)
-[debug/ast-codegen]             - ID <name="n"> (spicy_rt.hlt:71:91)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:71:82) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %499 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:93)
-[debug/ast-codegen]             - ID <name="error_msg"> (spicy_rt.hlt:71:101)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:71:94) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %500 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:111)
-[debug/ast-codegen]             - ID <name="location"> (spicy_rt.hlt:71:119)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:71:112) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %501 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:128)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:71:149)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:71:129) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:71:129) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:71:129)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:71:158)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:71:158)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:71:167) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInput"> (spicy_rt.hlt:71:167)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:71:201)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %568 <linkage="public"> (spicy_rt.hlt:72:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:72:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %503 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %502 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %504 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForEod"> (spicy_rt.hlt:72:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:72:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:72:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:72:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %502 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:32)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:72:56)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:72:38) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:48) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %503 <is_struct_param="false" kind="in"> (spicy_rt.hlt:72:61)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:72:75)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:72:67) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:67)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %504 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:80)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:72:106)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:72:86)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:72:115)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:72:115)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:72:124) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForEod"> (spicy_rt.hlt:72:124)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:72:156)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %569 <linkage="public"> (spicy_rt.hlt:73:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:73:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %506 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %505 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %507 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="atEod"> (spicy_rt.hlt:73:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:73:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:73:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:73:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %505 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:27)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:73:51)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:73:33) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:43) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %506 <is_struct_param="false" kind="in"> (spicy_rt.hlt:73:56)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:73:70)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:73:62) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:62)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %507 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:75)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:73:101)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%549"> (type: spicy_rt::Filters) (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:73:81)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:73:110)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:73:110)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:73:119) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::atEod"> (spicy_rt.hlt:73:119)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:73:146)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %570 <linkage="public"> (spicy_rt.hlt:75:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:75:15)
-[debug/ast-codegen]           | begin_ -> declaration::Parameter %508 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | dir -> declaration::Parameter %512 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | end_ -> declaration::Parameter %509 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | i -> declaration::Parameter %510 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | needle -> declaration::Parameter %511 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="unit_find"> (spicy_rt.hlt:75:43)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:75:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:75:16)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:16) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:34) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %508 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:53)
-[debug/ast-codegen]             - ID <name="begin_"> (spicy_rt.hlt:75:70)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:62) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %509 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:77)
-[debug/ast-codegen]             - ID <name="end_"> (spicy_rt.hlt:75:95)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:87) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %510 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:100)
-[debug/ast-codegen]             - ID <name="i"> (spicy_rt.hlt:75:128)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:101) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:119) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %511 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:130)
-[debug/ast-codegen]             - ID <name="needle"> (spicy_rt.hlt:75:137)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:75:131) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %512 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - ID <name="dir"> (spicy_rt.hlt:75:159)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%559"> (type: spicy_rt::FindDirection) (spicy_rt.hlt:75:144) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::FindDirection"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:75:164)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:75:164)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:75:173) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::unitFind"> (spicy_rt.hlt:75:173)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:75:203)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]     - declaration::Function %571 <linkage="public"> (spicy_rt.hlt:77:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:77:15)
-[debug/ast-codegen]         - ID <name="backtrack"> (spicy_rt.hlt:77:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:77:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:77:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:77:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:77:33)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:77:33)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:77:42) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::backtrack"> (spicy_rt.hlt:77:42)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:77:73)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %564 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %565 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %566 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %567 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %568 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %569 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %570 (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %571 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Type %513 <linkage="public"> (spicy_rt.hlt:79:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %853 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %854 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %855 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (spicy_rt.hlt:79:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:79:24) (non-const) (type-id: spicy_rt::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:79:31)
@@ -14468,44 +5564,9 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (spicy_rt.hlt:79:44)
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:79:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (spicy_rt.hlt:79:53)
-[debug/ast-codegen]     - declaration::Function %572 <linkage="public"> (spicy_rt.hlt:81:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:81:15)
-[debug/ast-codegen]           | lower -> declaration::Parameter %518 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | order -> declaration::Parameter %520 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | upper -> declaration::Parameter %519 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | v -> declaration::Parameter %517 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="extractBits"> (spicy_rt.hlt:81:24)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:81:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:81:16)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:16) (non-const) (wildcard)
-[debug/ast-codegen]           - declaration::Parameter %517 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:36)
-[debug/ast-codegen]             - ID <name="v"> (spicy_rt.hlt:81:44)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:36) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %518 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:46)
-[debug/ast-codegen]             - ID <name="lower"> (spicy_rt.hlt:81:56)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:47) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %519 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:62)
-[debug/ast-codegen]             - ID <name="upper"> (spicy_rt.hlt:81:72)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:63) (non-const)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]           - declaration::Parameter %520 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:78)
-[debug/ast-codegen]             - ID <name="order"> (spicy_rt.hlt:81:87)
-[debug/ast-codegen]             - type::Enum (spicy_rt.hlt:81:79) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - node::None (unused-types.spicy:11:12-14:22)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:81:94)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:81:94)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:81:103) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::integer::bits"> (spicy_rt.hlt:81:103)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:81:130)
-[debug/ast-codegen]             - node::None (unused-types.spicy:11:12-14:22)
+[debug/ast-codegen]     - node::None %572 (unused-types.spicy:11:12-14:22)
 [debug/ast-codegen]     - declaration::Function %573 <linkage="public"> (spicy_rt.hlt:83:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:83:15)
-[debug/ast-codegen]           | punit -> declaration::Parameter %521 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | ti -> declaration::Parameter %523 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %522 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="initializeParsedUnit"> (spicy_rt.hlt:83:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:83:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:83:16)
