### BTest baseline data generated by btest-diff. Do not edit. Use "btest -U/-u" to update. Requires BTest >= 0.63.
--- ast.0
+++ ast.1
@@ -1,341 +1,23 @@
 [debug/ast-codegen] # foo: AST for codegen
 [debug/ast-codegen]   - Module %1 (unused-functions.spicy:11:1-33:3)
-[debug/ast-codegen]       | A -> declaration::Type %5 (original %12) <linkage="private">
-[debug/ast-codegen]       | B -> declaration::Type %6 (original %15) <linkage="public">
-[debug/ast-codegen]       | C -> declaration::Type %7 (original %18) <linkage="private">
-[debug/ast-codegen]       | D -> declaration::Type %8 (original %22) <linkage="public">
-[debug/ast-codegen]       | F -> declaration::Type %9 (original %25) <linkage="private">
-[debug/ast-codegen]       | __register_foo_B -> declaration::Function %341 <linkage="init">
-[debug/ast-codegen]       | __register_foo_D -> declaration::Function %342 <linkage="init">
-[debug/ast-codegen]       | __register_foo_F -> declaration::Function %343 <linkage="init">
-[debug/ast-codegen]       | f1 -> declaration::Function %3 <linkage="private">
-[debug/ast-codegen]       | f2 -> declaration::Function %4 <linkage="public">
-[debug/ast-codegen]       | foo -> declaration::Module %523 <id="foo">
-[debug/ast-codegen]       | hilti -> declaration::ImportedModule %339 <extension=".hlt" path="" scope="-">
-[debug/ast-codegen]       | spicy_rt -> declaration::ImportedModule %340 <extension=".hlt" path="" scope="-">
 [debug/ast-codegen]     - ID <name="foo"> (unused-functions.spicy:11:8)
 [debug/ast-codegen]     - statement::Block (unused-functions.spicy:11:1-33:3)
-[debug/ast-codegen]     - declaration::Function %3 <linkage="private"> (unused-functions.spicy:11:12-14:17)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - ID <name="f1"> (unused-functions.spicy:14:10)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (unused-functions.spicy:14:1) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:14:14)
-[debug/ast-codegen]             - type::Void (unused-functions.spicy:14:14) (non-const)
-[debug/ast-codegen]         - statement::Block (unused-functions.spicy:14:15)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %4 <linkage="public"> (unused-functions.spicy:17:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:17:8)
-[debug/ast-codegen]         - ID <name="f2"> (unused-functions.spicy:17:17)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (unused-functions.spicy:17:8) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:17:21)
-[debug/ast-codegen]             - type::Void (unused-functions.spicy:17:21) (non-const)
-[debug/ast-codegen]         - statement::Block (unused-functions.spicy:17:22)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Type %5 (original %12) <linkage="private"> (unused-functions.spicy:17:24-19:18)
-[debug/ast-codegen]         | parse1 -> declaration::Function %499 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %500 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %501 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %498 <linkage="private"> (type: value_ref<foo::A>)
-[debug/ast-codegen]       - ID <name="A"> (unused-functions.spicy:19:6)
-[debug/ast-codegen]       - type::Struct %29 (original %11) (unused-functions.spicy:17:24-19:18) (non-const) (top-level scope) (type-id: foo::A)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
-[debug/ast-codegen]           - ID <name="__parse_stage1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="__data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="__cur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="__trim">
-[debug/ast-codegen]               - type::Bool (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="__lah">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="__lahe">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%5"> (type: foo::A) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::A">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%360"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]       - AttributeSet (unused-functions.spicy:17:24-19:18)
-[debug/ast-codegen]         - Attribute <tag="&on-heap">
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Type %6 (original %15) <linkage="public"> (unused-functions.spicy:22:1)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %503 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %504 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %505 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %506 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %502 <linkage="private"> (type: value_ref<foo::B>)
+[debug/ast-codegen]     - node::None %3 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %4 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %5 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - declaration::Type %6 <linkage="public"> (unused-functions.spicy:22:1)
 [debug/ast-codegen]       - ID <name="B"> (unused-functions.spicy:22:13)
-[debug/ast-codegen]       - type::Struct %35 (original %14) (unused-functions.spicy:22:1) (non-const) (top-level scope) (type-id: foo::B)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]       - type::Struct %35 (unused-functions.spicy:22:1) (non-const) (top-level scope) (type-id: foo::B)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%281"> (type: spicy_rt::Parser) (non-const)
@@ -542,55 +224,15 @@
 [debug/ast-codegen]       - AttributeSet (unused-functions.spicy:22:1)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Type %7 (original %18) <linkage="private"> (unused-functions.spicy:22:25-25:18)
-[debug/ast-codegen]         | parse1 -> declaration::Function %508 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %509 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %510 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %507 <linkage="private"> (type: value_ref<foo::C>)
+[debug/ast-codegen]     - declaration::Type %7 <linkage="private"> (unused-functions.spicy:22:25-25:18)
 [debug/ast-codegen]       - ID <name="C"> (unused-functions.spicy:25:6)
-[debug/ast-codegen]       - type::Struct %40 (original %17) (unused-functions.spicy:22:25-25:18) (non-const) (top-level scope) (type-id: foo::C)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]       - type::Struct %40 (unused-functions.spicy:22:25-25:18) (non-const) (top-level scope) (type-id: foo::C)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parse_stage1">
 [debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
@@ -625,117 +267,15 @@
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse1">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse2">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%7"> (type: foo::C) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                   - ID <name="foo::C">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="extern">
-[debug/ast-codegen]           - ID <name="parse3">
-[debug/ast-codegen]           - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="gunit">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%360"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::ValueReference (non-const)
-[debug/ast-codegen]                 - type::Stream (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="cur">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Optional
-[debug/ast-codegen]                   - type::stream::View (non-const)
-[debug/ast-codegen]                     - type::Stream
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - ID <name="context">
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                   - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - Attribute <tag="&static">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]       - AttributeSet (unused-functions.spicy:22:25-25:18)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Type %8 (original %22) <linkage="public"> (unused-functions.spicy:26:1-28:3)
+[debug/ast-codegen]     - declaration::Type %8 <linkage="public"> (unused-functions.spicy:26:1-28:3)
 [debug/ast-codegen]       - ID <name="D"> (unused-functions.spicy:26:13)
-[debug/ast-codegen]       - type::Struct %46 (original %21) (unused-functions.spicy:26:1-28:3) (non-const) (top-level scope) (type-id: foo::D)
+[debug/ast-codegen]       - type::Struct %46 (unused-functions.spicy:26:1-28:3) (non-const) (top-level scope) (type-id: foo::D)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:23-27:9)
 [debug/ast-codegen]           - ID <name="anon"> (unused-functions.spicy:26:23-27:9)
@@ -751,111 +291,15 @@
 [debug/ast-codegen]             - Attribute <tag="&no-emit">
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_gap"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="len">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_overlap"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="old">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="new_">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_skipped"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_undelivered"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="seq">
-[debug/ast-codegen]               - type::UnsignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - declaration::Parameter <is_struct_param="false" kind="in"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - ID <name="data">
-[debug/ast-codegen]               - type::Bytes (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%281"> (type: spicy_rt::Parser) (non-const)
@@ -1062,56 +506,15 @@
 [debug/ast-codegen]       - AttributeSet (unused-functions.spicy:26:1-28:3)
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Type %9 (original %25) <linkage="private"> (unused-functions.spicy:28:3-33:3)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %517 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %518 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %519 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %520 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %516 <linkage="private"> (type: value_ref<foo::F>)
+[debug/ast-codegen]     - declaration::Type %9 <linkage="private"> (unused-functions.spicy:28:3-33:3)
 [debug/ast-codegen]       - ID <name="F"> (unused-functions.spicy:31:6)
-[debug/ast-codegen]       - type::Struct %52 (original %24) (unused-functions.spicy:28:3-33:3) (non-const) (top-level scope) (type-id: foo::F)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_init"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_done"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_error"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - ID <name="__str__"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - type::Optional (non-const)
-[debug/ast-codegen]                 - type::String (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - type::struct_::Field <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]             - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - type::Void (non-const)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]       - type::Struct %52 (unused-functions.spicy:28:3-33:3) (non-const) (top-level scope) (type-id: foo::F)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - type::struct_::Field <cc="<standard>">
 [debug/ast-codegen]           - ID <name="__parser">
 [debug/ast-codegen]           - type::ResolvedID <resolved="%281"> (type: spicy_rt::Parser) (non-const)
@@ -1282,871 +685,15 @@
 [debug/ast-codegen]         - Attribute <tag="&on-heap">
 [debug/ast-codegen]           - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::ImportedModule %339 <extension=".hlt" path="" scope="-"> (unused-functions.spicy:11:1-33:3)
-[debug/ast-codegen]         | AddressFamily -> declaration::Type %231 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %216 <linkage="public">
-[debug/ast-codegen]         | ByteOrder -> declaration::Type %220 <linkage="public">
-[debug/ast-codegen]         | Captures -> declaration::Type %344 <linkage="public">
-[debug/ast-codegen]         | Charset -> declaration::Type %244 <linkage="public">
-[debug/ast-codegen]         | Exception -> declaration::Type %354 <linkage="public">
-[debug/ast-codegen]         | MatchState -> declaration::Type %248 <linkage="public">
-[debug/ast-codegen]         | Protocol -> declaration::Type %239 <linkage="public">
-[debug/ast-codegen]         | RealType -> declaration::Type %235 <linkage="public">
-[debug/ast-codegen]         | RuntimeError -> declaration::Type %355 <linkage="public">
-[debug/ast-codegen]         | Side -> declaration::Type %226 <linkage="public">
-[debug/ast-codegen]         | abort -> declaration::Function %352 <linkage="public">
-[debug/ast-codegen]         | current_time -> declaration::Function %350 <linkage="public">
-[debug/ast-codegen]         | debug -> declaration::Function %347 <linkage="public">
-[debug/ast-codegen]         | debugDedent -> declaration::Function %349 <linkage="public">
-[debug/ast-codegen]         | debugIndent -> declaration::Function %348 <linkage="public">
-[debug/ast-codegen]         | hilti -> declaration::Module %550 <id="hilti">
-[debug/ast-codegen]         | linker_scope -> declaration::Function %353 <linkage="public">
-[debug/ast-codegen]         | mktime -> declaration::Function %351 <linkage="public">
-[debug/ast-codegen]         | print -> declaration::Function %345 <linkage="public">
-[debug/ast-codegen]         | printValues -> declaration::Function %346 <linkage="public">
 [debug/ast-codegen]       - ID <name="hilti"> (unused-functions.spicy:11:1-33:3)
 [debug/ast-codegen]     - declaration::ImportedModule %340 <extension=".hlt" path="" scope="-"> (unused-functions.spicy:11:1-33:3)
-[debug/ast-codegen]         | Backtrack -> declaration::Type %357 <linkage="public">
-[debug/ast-codegen]         | BitOrder -> declaration::Type %327 <linkage="public">
-[debug/ast-codegen]         | Direction -> declaration::Type %283 <linkage="public">
-[debug/ast-codegen]         | Filters -> declaration::Type %363 <linkage="public">
-[debug/ast-codegen]         | FindDirection -> declaration::Type %373 <linkage="public">
-[debug/ast-codegen]         | Forward -> declaration::Type %364 <linkage="public">
-[debug/ast-codegen]         | HiltiResumable -> declaration::Type %362 <linkage="public">
-[debug/ast-codegen]         | MIMEType -> declaration::Type %374 <linkage="public">
-[debug/ast-codegen]         | ParseError -> declaration::Type %356 <linkage="public">
-[debug/ast-codegen]         | ParsedUnit -> declaration::Type %360 <linkage="public">
-[debug/ast-codegen]         | Parser -> declaration::Type %281 <linkage="public">
-[debug/ast-codegen]         | ParserPort -> declaration::Type %375 <linkage="public">
-[debug/ast-codegen]         | Sink -> declaration::Type %265 <linkage="public">
-[debug/ast-codegen]         | SinkState -> declaration::Type %359 <linkage="public">
-[debug/ast-codegen]         | TypeInfo -> declaration::Type %361 <linkage="public">
-[debug/ast-codegen]         | UnitAlreadyConnected -> declaration::Type %358 <linkage="public">
-[debug/ast-codegen]         | UnitContext -> declaration::Type %370 <linkage="public">
-[debug/ast-codegen]         | atEod -> declaration::Function %383 <linkage="public">
-[debug/ast-codegen]         | backtrack -> declaration::Function %385 <linkage="public">
-[debug/ast-codegen]         | createContext -> declaration::Function %371 <linkage="public">
-[debug/ast-codegen]         | extractBits -> declaration::Function %386 <linkage="public">
-[debug/ast-codegen]         | filter_connect -> declaration::Function %366 <linkage="public">
-[debug/ast-codegen]         | filter_disconnect -> declaration::Function %367 <linkage="public">
-[debug/ast-codegen]         | filter_forward -> declaration::Function %368 <linkage="public">
-[debug/ast-codegen]         | filter_forward_eod -> declaration::Function %369 <linkage="public">
-[debug/ast-codegen]         | filter_init -> declaration::Function %365 <linkage="public">
-[debug/ast-codegen]         | initializeParsedUnit -> declaration::Function %387 <linkage="public">
-[debug/ast-codegen]         | printParserState -> declaration::Function %377 <linkage="public">
-[debug/ast-codegen]         | registerParser -> declaration::Function %376 <linkage="public">
-[debug/ast-codegen]         | setContext -> declaration::Function %372 <linkage="public">
-[debug/ast-codegen]         | spicy_rt -> declaration::Module %560 <id="spicy_rt">
-[debug/ast-codegen]         | unit_find -> declaration::Function %384 <linkage="public">
-[debug/ast-codegen]         | waitForEod -> declaration::Function %382 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %380 <linkage="public">
-[debug/ast-codegen]         | waitForInput -> declaration::Function %381 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %378 <linkage="public">
-[debug/ast-codegen]         | waitForInputOrEod -> declaration::Function %379 <linkage="public">
 [debug/ast-codegen]       - ID <name="spicy_rt"> (unused-functions.spicy:11:1-33:3)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]         | parse1 -> declaration::Function %499 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %500 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %501 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %498 <linkage="private"> (type: value_ref<foo::A>)
-[debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %57 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %56 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %59 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %60 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %58 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]         - ID <name="foo::A::__parse_stage1"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - type::Tuple <wildcard="false"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]           - declaration::Parameter %56 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="__data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %57 <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]             - type::stream::View (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %58 <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="__trim">
-[debug/ast-codegen]             - type::Bool (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %59 <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="__lah">
-[debug/ast-codegen]             - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %60 <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="__lahe">
-[debug/ast-codegen]             - type::stream::Iterator (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block (unused-functions.spicy:19:10)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %61 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %61 <const="false">
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]               - type::Tuple <wildcard="false"> (non-const)
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]                 - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                 - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Try
-[debug/ast-codegen]             - statement::Block
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="foo::A">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression (unused-functions.spicy:19:10)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - statement::Expression (unused-functions.spicy:19:10)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                     - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::Ctor (const)
-[debug/ast-codegen]                         - ctor::String <value="spicy">
-[debug/ast-codegen]               - statement::Expression
-[debug/ast-codegen]                 - expression::Assign (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%61"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]                     - ID <name="__result">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Tuple
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%57"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__cur">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%59"> (type: int<64>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lah">
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%60"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                         - ID <name="__lahe">
-[debug/ast-codegen]             - statement::try_::Catch
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]               - statement::Block
-[debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:19:10)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]                 - statement::Throw
-[debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Expression (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%61"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
-[debug/ast-codegen]               - ID <name="__result">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %64 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %63 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %62 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::A::parse1"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %62 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %63 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %64 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %67 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %68 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %66 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %65 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %65 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%5"> (type: foo::A) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::A">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %66 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%63"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%63"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%62"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %67 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %68 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::A">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%62"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%66"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%66"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%62"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%66"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%66"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %72 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %71 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %70 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %69 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::A::parse3"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %69 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%360"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %70 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %71 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %72 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %75 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %76 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %74 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %73 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %73 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%5"> (type: foo::A) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::A">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%387"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%69"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%73"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%5"> (type: foo::A) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::A"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %74 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%71"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%71"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%70"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %75 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %76 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::A">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%70"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%74"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%75"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%76"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%74"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%75"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%76"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%73"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%70"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%74"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%75"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%76"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%74"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %80 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %79 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %78 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %77 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::A::parse2"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %77 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%5"> (type: foo::A) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::A">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %78 <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %79 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %80 <is_struct_param="false" kind="in"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %82 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %83 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %81 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %81 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%79"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%79"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%78"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %82 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %83 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::A">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%78"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%81"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%82"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%83"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%81"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%82"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%83"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%77"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%78"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%81"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%82"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%83"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_A ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%81"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:19:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %503 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %504 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %505 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %506 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %502 <linkage="private"> (type: value_ref<foo::B>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %85 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %84 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %87 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %88 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %86 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::B::__parse_stage1"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:22:17)
@@ -2178,7 +725,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:22:17)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %89 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %89 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -2211,23 +757,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:22:17)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:22:17)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %90
-[debug/ast-codegen]                   | filtered -> declaration::Forward %521 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
@@ -2248,7 +781,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %92 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %92 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -2442,21 +974,9 @@
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:22:17)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:22:17)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -2467,39 +987,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:22:17)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:22:17)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:22:17)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:22:17)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%89"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -2507,17 +1003,7 @@
 [debug/ast-codegen]           - Attribute <tag="&always-emit">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %503 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %504 <linkage="public">
-[debug/ast-codegen]         | parse2 -> declaration::Function %505 <linkage="public">
-[debug/ast-codegen]         | parse3 -> declaration::Function %506 <linkage="public">
-[debug/ast-codegen]         | self -> declaration::Expression %502 <linkage="private"> (type: value_ref<foo::B>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %94 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %93 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %96 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %97 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %95 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::B::__parse_foo_B_stage2"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:22:17)
@@ -2549,7 +1035,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:22:17)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %98 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %98 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -2560,21 +1045,9 @@
 [debug/ast-codegen]                 - type::stream::Iterator (non-const)
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:22:17)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:22:17)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:22:17)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -2613,9 +1086,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           | context -> declaration::Parameter %101 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %100 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %99 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::B::parse1"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:22:17)
@@ -2642,10 +1112,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %104 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %105 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %103 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %102 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %102 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -2809,10 +1275,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           | context -> declaration::Parameter %109 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %108 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %107 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %106 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::B::parse3"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:22:17)
@@ -2845,10 +1307,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %112 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %113 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %111 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %110 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %110 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -3029,10 +1487,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]           | context -> declaration::Parameter %117 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %116 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %115 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %114 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::B::parse2"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:22:17) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:22:17)
@@ -3065,9 +1519,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %119 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %120 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %118 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %118 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -3381,16 +1832,7 @@
 [debug/ast-codegen]                         - ID <name="foo::B"> (unused-functions.spicy:22:17)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]         | parse1 -> declaration::Function %508 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %509 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %510 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %507 <linkage="private"> (type: value_ref<foo::C>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %122 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %121 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %124 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %125 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %123 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::C::__parse_stage1"> (unused-functions.spicy:25:10)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:25:10)
@@ -3422,7 +1864,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:25:10)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %126 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %126 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -3455,37 +1896,13 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:25:10)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:25:10)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:25:10)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:25:10)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression
 [debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
@@ -3511,674 +1928,28 @@
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:25:10)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:25:10)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:25:10)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:25:10)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%126"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
 [debug/ast-codegen]         - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %129 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %128 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %127 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::C::parse1"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %127 <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %128 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %129 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %132 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %133 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %131 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %130 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %130 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%7"> (type: foo::C) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::C">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %131 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%128"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%128"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%127"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %132 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %133 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::C">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%127"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%131"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%132"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%133"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%131"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%132"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%133"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%130"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%127"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%131"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%132"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%133"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%131"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %137 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %136 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %135 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %134 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::C::parse3"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %134 <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="gunit">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%360"> (type: spicy_rt::ParsedUnit) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::ParsedUnit">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %135 <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %136 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %137 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %140 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %141 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %139 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %138 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %138 <const="false">
-[debug/ast-codegen]               - ID <name="unit">
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::ValueReference
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Default
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%7"> (type: foo::C) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::C">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%387"> (type: function void (inout spicy_rt::ParsedUnit punit, any unit, spicy_rt::TypeInfo ti)) (spicy_rt.hlt:83:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::initializeParsedUnit"> (spicy_rt.hlt:83:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Coerced (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%134"> (type: value_ref<spicy_rt::ParsedUnit>) (non-const)
-[debug/ast-codegen]                       - ID <name="gunit">
-[debug/ast-codegen]                     - type::Library <cxx_name="spicy::rt::ParsedUnit"> (spicy_rt.hlt:10:26) (non-const) (type-id: spicy_rt::ParsedUnit)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%138"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                   - expression::TypeInfo (const)
-[debug/ast-codegen]                     - expression::Type_ (const)
-[debug/ast-codegen]                       - type::ResolvedID <resolved="%7"> (type: foo::C) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - ID <name="foo::C"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %139 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%136"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%136"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%135"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %140 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %141 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::C">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%135"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%139"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%140"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%141"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%139"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%140"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%141"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%138"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%135"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%139"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%140"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%141"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%139"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]           | context -> declaration::Parameter %145 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %144 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %143 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %142 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="foo::C::parse2"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]           - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - type::stream::View (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]               - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %142 <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="unit">
-[debug/ast-codegen]             - type::ValueReference (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%7"> (type: foo::C) (<on-heap-replacement>) (non-const)
-[debug/ast-codegen]                 - ID <name="foo::C">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %143 <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="data">
-[debug/ast-codegen]             - type::ValueReference (non-const)
-[debug/ast-codegen]               - type::Stream (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %144 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="cur">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]             - expression::Ctor (const)
-[debug/ast-codegen]               - ctor::Optional
-[debug/ast-codegen]                 - type::stream::View (non-const)
-[debug/ast-codegen]                   - type::Stream
-[debug/ast-codegen]           - declaration::Parameter %145 <is_struct_param="false" kind="in"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]             - ID <name="context">
-[debug/ast-codegen]             - type::Optional (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %147 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %148 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %146 <const="false">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %146 <const="false">
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]               - type::stream::View (non-const)
-[debug/ast-codegen]                 - type::Stream
-[debug/ast-codegen]               - expression::Ternary (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%144"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                   - ID <name="cur">
-[debug/ast-codegen]                 - operator_::optional::Deref <kind="*"> (const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%144"> (type: optional<view<stream>>) (const)
-[debug/ast-codegen]                     - ID <name="cur">
-[debug/ast-codegen]                 - operator_::generic::CastedCoercion <kind="cast"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%143"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                   - expression::Type_ (const)
-[debug/ast-codegen]                     - type::stream::View (non-const)
-[debug/ast-codegen]                       - type::Stream
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %147 <const="false">
-[debug/ast-codegen]               - ID <name="lahead">
-[debug/ast-codegen]               - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::SignedInteger <value="0" width="64">
-[debug/ast-codegen]           - statement::Declaration
-[debug/ast-codegen]             - declaration::LocalVariable %148 <const="false">
-[debug/ast-codegen]               - ID <name="lahead_end">
-[debug/ast-codegen]               - type::stream::Iterator (non-const)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - statement::Comment <comment="Begin parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%377"> (type: function void (string unit_id, value_ref<stream> data, view<stream> cur, int<64> lahead, iterator<stream> lahead_end, string literal_mode, bool trim)) (spicy_rt.hlt:66:1) (const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::printParserState"> (spicy_rt.hlt:66:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="foo::C">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%143"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="data">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%146"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%147"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%148"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="default">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::Bool <value="true">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%347"> (type: function void (string dbg_stream, any obj)) (hilti.hlt:20:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debug"> (hilti.hlt:20:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="- parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%348"> (type: function void (string dbg_stream)) (hilti.hlt:21:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugIndent"> (hilti.hlt:21:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - expression::Assign (non-const)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%146"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="ncur">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%147"> (type: int<64>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead">
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%148"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                     - ID <name="lahead_end">
-[debug/ast-codegen]               - operator_::struct_::MemberCall <kind="method call"> (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - expression::ResolvedID <resolved="%142"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]                     - ID <name="unit">
-[debug/ast-codegen]                 - expression::Member (const)
-[debug/ast-codegen]                   - ID <name="__parse_stage1">
-[debug/ast-codegen]                   - type::Function <flavor="method"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                     - type::function::Result (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - type::Tuple <wildcard="false"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]                         - type::stream::View (non-const)
-[debug/ast-codegen]                           - type::Stream
-[debug/ast-codegen]                         - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                         - type::stream::Iterator (non-const)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="inout"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__data">
-[debug/ast-codegen]                       - type::ValueReference (non-const)
-[debug/ast-codegen]                         - type::Stream (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__cur">
-[debug/ast-codegen]                       - type::stream::View (non-const)
-[debug/ast-codegen]                         - type::Stream
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__trim">
-[debug/ast-codegen]                       - type::Bool (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lah">
-[debug/ast-codegen]                       - type::SignedInteger <width="64"> (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                     - declaration::Parameter <is_struct_param="false" kind="copy"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]                       - ID <name="__lahe">
-[debug/ast-codegen]                       - type::stream::Iterator (non-const)
-[debug/ast-codegen]                       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]                   - type::Member (non-const)
-[debug/ast-codegen]                     - ID <name="__parse_stage1">
-[debug/ast-codegen]                 - expression::Ctor (const)
-[debug/ast-codegen]                   - ctor::Tuple
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%143"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="data">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%146"> (type: view<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="ncur">
-[debug/ast-codegen]                     - expression::Ctor (const)
-[debug/ast-codegen]                       - ctor::Bool <value="true">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%147"> (type: int<64>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead">
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%148"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]                       - ID <name="lahead_end">
-[debug/ast-codegen]           - statement::Expression
-[debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - expression::ResolvedID <resolved="%349"> (type: function void (string dbg_stream)) (hilti.hlt:22:1) (const)
-[debug/ast-codegen]                 - ID <name="hilti::debugDedent"> (hilti.hlt:22:1)
-[debug/ast-codegen]               - expression::Ctor (const)
-[debug/ast-codegen]                 - ctor::Tuple
-[debug/ast-codegen]                   - expression::Ctor (const)
-[debug/ast-codegen]                     - ctor::String <value="spicy-verbose">
-[debug/ast-codegen]           - statement::Comment <comment="End parsing production: Unit: foo_C ->">
-[debug/ast-codegen]           - statement::Return
-[debug/ast-codegen]             - expression::ResolvedID <resolved="%146"> (type: view<stream>) (non-const)
-[debug/ast-codegen]               - ID <name="ncur">
-[debug/ast-codegen]         - AttributeSet (unused-functions.spicy:25:10)
-[debug/ast-codegen]           - Attribute <tag="&static">
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %150 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %149 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %152 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %153 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %151 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::D::__parse_stage1"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:26:17-28:2)
@@ -4210,7 +1981,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %154 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %154 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -4243,23 +2013,10 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:26:17-28:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::If %155
-[debug/ast-codegen]                   | filtered -> declaration::Forward %522 <="false">
 [debug/ast-codegen]                 - declaration::LocalVariable <const="false">
 [debug/ast-codegen]                   - ID <name="filtered">
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
@@ -4280,7 +2037,6 @@
 [debug/ast-codegen]                     - ID <name="filtered">
 [debug/ast-codegen]                   - type::Bool (non-const)
 [debug/ast-codegen]                 - statement::Block
-[debug/ast-codegen]                     | filtered_data -> declaration::LocalVariable %157 <const="false">
 [debug/ast-codegen]                   - statement::Declaration
 [debug/ast-codegen]                     - declaration::LocalVariable %157 <const="false">
 [debug/ast-codegen]                       - ID <name="filtered_data">
@@ -4474,21 +2230,9 @@
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -4499,39 +2243,15 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:26:17-28:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%154"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
@@ -4540,11 +2260,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %159 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %158 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %161 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %162 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %160 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::D::__parse_foo_D_stage2"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:26:17-28:2)
@@ -4576,8 +2291,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %163 <const="false">
-[debug/ast-codegen]             | __transient_anon -> declaration::LocalVariable %164 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %163 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -4754,21 +2467,9 @@
 [debug/ast-codegen]                     - expression::ResolvedID <resolved="%164"> (type: value_ref<foo::C>) (non-const)
 [debug/ast-codegen]                       - ID <name="__transient_anon">
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_done"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_done"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:26:17-28:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Expression
 [debug/ast-codegen]             - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
@@ -4807,9 +2508,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %167 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %166 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %165 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::D::parse1"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:26:17-28:2)
@@ -4836,10 +2534,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %170 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %171 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %169 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %168 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %168 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -5003,10 +2697,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %175 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %174 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %173 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %172 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::D::parse3"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:26:17-28:2)
@@ -5039,10 +2729,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %178 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %179 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %177 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %176 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %176 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -5223,10 +2909,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %183 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %182 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %181 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %180 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::D::parse2"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:26:17-28:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:26:17-28:2)
@@ -5259,9 +2941,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %185 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %186 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %184 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %184 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -5575,17 +3254,7 @@
 [debug/ast-codegen]                         - ID <name="foo::D"> (unused-functions.spicy:26:17-28:2)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]         | __parser -> declaration::LocalVariable %517 <const="false">
-[debug/ast-codegen]         | parse1 -> declaration::Function %518 <linkage="private">
-[debug/ast-codegen]         | parse2 -> declaration::Function %519 <linkage="private">
-[debug/ast-codegen]         | parse3 -> declaration::Function %520 <linkage="private">
-[debug/ast-codegen]         | self -> declaration::Expression %516 <linkage="private"> (type: value_ref<foo::F>)
 [debug/ast-codegen]       - Function <cc="<standard>"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           | __cur -> declaration::Parameter %188 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __data -> declaration::Parameter %187 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | __lah -> declaration::Parameter %190 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __lahe -> declaration::Parameter %191 <is_struct_param="false" kind="copy">
-[debug/ast-codegen]           | __trim -> declaration::Parameter %189 <is_struct_param="false" kind="copy">
 [debug/ast-codegen]         - ID <name="foo::F::__parse_stage1"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:31:10-33:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:31:10-33:2)
@@ -5617,7 +3286,6 @@
 [debug/ast-codegen]             - type::stream::Iterator (non-const)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]             | __result -> declaration::LocalVariable %192 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %192 <const="false">
 [debug/ast-codegen]               - ID <name="__result">
@@ -5650,37 +3318,13 @@
 [debug/ast-codegen]                       - expression::Ctor (const)
 [debug/ast-codegen]                         - ctor::String <value="spicy">
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_init"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_init"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:31:10-33:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                 - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                   - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                     - ID <name="__on_0x25_done"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                         - type::Void (non-const)
-[debug/ast-codegen]                     - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_done"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                     - ctor::Tuple (unused-functions.spicy:31:10-33:2)
+[debug/ast-codegen]                 - expression::Ctor (const)
+[debug/ast-codegen]                   - ctor::Default
+[debug/ast-codegen]                     - type::Void (non-const)
 [debug/ast-codegen]               - statement::Expression
 [debug/ast-codegen]                 - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                   - type::Unknown (<singleton>) (non-const)
@@ -5715,21 +3359,9 @@
 [debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]               - statement::Block
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_error"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_error"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Expression
 [debug/ast-codegen]                   - operator_::function::Call <kind="call"> (non-const)
 [debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
@@ -5740,48 +3372,21 @@
 [debug/ast-codegen]                         - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
 [debug/ast-codegen]                           - ID <name="self"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]                 - statement::Expression (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                   - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                     - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                     - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                       - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                       - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                       - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                       - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                           - type::Void (non-const)
-[debug/ast-codegen]                       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                         - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
+[debug/ast-codegen]                   - expression::Ctor (const)
+[debug/ast-codegen]                     - ctor::Default
+[debug/ast-codegen]                       - type::Void (non-const)
 [debug/ast-codegen]                 - statement::Throw
 [debug/ast-codegen]                   - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]           - statement::Expression (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]             - operator_::struct_::MemberCall <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]               - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]               - operator_::value_reference::Deref <kind="*"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                 - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]                 - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                   - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                 - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                 - type::Function <flavor="hook"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                   - type::function::Result (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]                     - type::Void (non-const)
-[debug/ast-codegen]                 - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]                   - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]               - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]                 - ctor::Tuple (unused-functions.spicy:31:10-33:2)
+[debug/ast-codegen]             - expression::Ctor (const)
+[debug/ast-codegen]               - ctor::Default
+[debug/ast-codegen]                 - type::Void (non-const)
 [debug/ast-codegen]           - statement::Return
 [debug/ast-codegen]             - expression::ResolvedID <resolved="%192"> (type: tuple<view<stream>, int<64>, iterator<stream>>) (non-const)
 [debug/ast-codegen]               - ID <name="__result">
 [debug/ast-codegen]         - AttributeSet (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %195 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %194 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %193 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::F::parse1"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:31:10-33:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:31:10-33:2)
@@ -5808,10 +3413,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %198 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %199 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %197 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %196 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %196 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -5977,10 +3578,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %203 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %202 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %201 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | gunit -> declaration::Parameter %200 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::F::parse3"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:31:10-33:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:31:10-33:2)
@@ -6013,10 +3610,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %206 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %207 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %205 <const="false">
-[debug/ast-codegen]             | unit -> declaration::LocalVariable %204 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %204 <const="false">
 [debug/ast-codegen]               - ID <name="unit">
@@ -6199,10 +3792,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function <linkage="method"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]       - Function <cc="extern"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]           | context -> declaration::Parameter %211 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | cur -> declaration::Parameter %210 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %209 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %208 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="foo::F::parse2"> (unused-functions.spicy:31:10-33:2)
 [debug/ast-codegen]         - type::Function <flavor="method"> (unused-functions.spicy:31:10-33:2) (non-const)
 [debug/ast-codegen]           - type::function::Result (unused-functions.spicy:31:10-33:2)
@@ -6235,9 +3824,6 @@
 [debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext">
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]         - statement::Block
-[debug/ast-codegen]             | lahead -> declaration::LocalVariable %213 <const="false">
-[debug/ast-codegen]             | lahead_end -> declaration::LocalVariable %214 <const="false">
-[debug/ast-codegen]             | ncur -> declaration::LocalVariable %212 <const="false">
 [debug/ast-codegen]           - statement::Declaration
 [debug/ast-codegen]             - declaration::LocalVariable %212 <const="false">
 [debug/ast-codegen]               - ID <name="ncur">
@@ -6533,802 +4119,11 @@
 [debug/ast-codegen]                         - type::ResolvedID <resolved="%375"> (type: spicy_rt::ParserPort) (non-const)
 [debug/ast-codegen]                           - ID <name="spicy_rt::ParserPort">
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen] # foo: Preserved nodes
-[debug/ast-codegen]   - declaration::Type %10 <linkage="private"> (unused-functions.spicy:17:24-19:18)
-[debug/ast-codegen]     - ID <name="A"> (unused-functions.spicy:19:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:19:10) (non-const) (top-level scope) (type-id: foo::A)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - spicy::type::Unit %11 <public="false"> (unused-functions.spicy:19:10) (non-const) (top-level scope) (type-id: foo::A)
-[debug/ast-codegen]   - declaration::Type %12 (original %10) <linkage="private"> (unused-functions.spicy:17:24-19:18)
-[debug/ast-codegen]     - ID <name="A"> (unused-functions.spicy:19:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:19:10) (non-const) (top-level scope) (type-id: foo::A)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %13 <linkage="public"> (unused-functions.spicy:22:1)
-[debug/ast-codegen]     - ID <name="B"> (unused-functions.spicy:22:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:22:17) (non-const) (top-level scope) (type-id: foo::B)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - spicy::type::Unit %14 <public="true"> (unused-functions.spicy:22:17) (non-const) (top-level scope) (type-id: foo::B)
-[debug/ast-codegen]   - declaration::Type %15 (original %13) <linkage="public"> (unused-functions.spicy:22:1)
-[debug/ast-codegen]     - ID <name="B"> (unused-functions.spicy:22:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (unused-functions.spicy:22:17) (non-const) (top-level scope) (type-id: foo::B)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %16 <linkage="private"> (unused-functions.spicy:22:25-25:18)
-[debug/ast-codegen]     - ID <name="C"> (unused-functions.spicy:25:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:25:10) (non-const) (top-level scope) (type-id: foo::C)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - spicy::type::Unit %17 <public="false"> (unused-functions.spicy:25:10) (non-const) (top-level scope) (type-id: foo::C)
-[debug/ast-codegen]   - declaration::Type %18 (original %16) <linkage="private"> (unused-functions.spicy:22:25-25:18)
-[debug/ast-codegen]     - ID <name="C"> (unused-functions.spicy:25:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:25:10) (non-const) (top-level scope) (type-id: foo::C)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %19 <linkage="public"> (unused-functions.spicy:26:1-28:3)
-[debug/ast-codegen]     - ID <name="D"> (unused-functions.spicy:26:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:26:17-28:2) (non-const) (top-level scope) (type-id: foo::D)
-[debug/ast-codegen]       - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - ID <name="anon"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - type::ValueReference (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%7"> (type: foo::C) (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]             - ID <name="C"> (unused-functions.spicy:27:7)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - spicy::type::Unit %21 <public="true"> (unused-functions.spicy:26:17-28:2) (non-const) (top-level scope) (type-id: foo::D)
-[debug/ast-codegen]     - spicy::type::unit::item::Field <engine="parser/composer" forwarding="false" transient="true"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]       - ID <name="anon"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]       - type::ValueReference (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]         - type::ResolvedID <resolved="%7"> (type: foo::C) (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]           - ID <name="C"> (unused-functions.spicy:27:7)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %22 (original %19) <linkage="public"> (unused-functions.spicy:26:1-28:3)
-[debug/ast-codegen]     - ID <name="D"> (unused-functions.spicy:26:13)
-[debug/ast-codegen]     - spicy::type::Unit <public="true"> (unused-functions.spicy:26:17-28:2) (non-const) (top-level scope) (type-id: foo::D)
-[debug/ast-codegen]       - spicy::type::unit::item::Field %20 <engine="parser/composer" forwarding="false" transient="true"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - ID <name="anon"> (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - type::ValueReference (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]           - type::ResolvedID <resolved="%7"> (type: foo::C) (unused-functions.spicy:26:23-27:9) (non-const)
-[debug/ast-codegen]             - ID <name="C"> (unused-functions.spicy:27:7)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %23 <linkage="private"> (unused-functions.spicy:28:3-33:3)
-[debug/ast-codegen]     - ID <name="F"> (unused-functions.spicy:31:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:31:10-33:2) (non-const) (top-level scope) (type-id: foo::F)
-[debug/ast-codegen]       - spicy::type::unit::item::Property <inherited="false"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]         - ID <name="%filter"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - spicy::type::Unit %24 <public="false"> (unused-functions.spicy:31:10-33:2) (non-const) (top-level scope) (type-id: foo::F)
-[debug/ast-codegen]     - spicy::type::unit::item::Property <inherited="false"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]       - ID <name="%filter"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - declaration::Type %25 (original %23) <linkage="private"> (unused-functions.spicy:28:3-33:3)
-[debug/ast-codegen]     - ID <name="F"> (unused-functions.spicy:31:6)
-[debug/ast-codegen]     - spicy::type::Unit <public="false"> (unused-functions.spicy:31:10-33:2) (non-const) (top-level scope) (type-id: foo::F)
-[debug/ast-codegen]       - spicy::type::unit::item::Property <inherited="false"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]         - ID <name="%filter"> (unused-functions.spicy:32:5)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:26:23-27:9)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]   - expression::UnresolvedOperator %388 <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %389 <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %390 <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %391 <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %392 <kind="method call"> (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%28"> (type: value_ref<foo::A>) (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:19:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:19:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:19:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:19:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %393 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%65"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%62"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%66"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%67"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%68"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %394 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%73"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%70"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%74"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%75"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%76"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %395 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%77"> (type: value_ref<foo::A>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%78"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%81"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%82"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%83"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %396 <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:22:17)
-[debug/ast-codegen]   - expression::UnresolvedOperator %397 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_B_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_B_stage2">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%92"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%92"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%86"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%87"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%88"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %398 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%84"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%85"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %399 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_B_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_B_stage2">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%84"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%85"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%86"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%87"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%88"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %400 <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:22:17)
-[debug/ast-codegen]   - expression::UnresolvedOperator %401 <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:22:17)
-[debug/ast-codegen]   - expression::UnresolvedOperator %402 <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:22:17)
-[debug/ast-codegen]   - expression::UnresolvedOperator %403 <kind="method call"> (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%33"> (type: value_ref<foo::B>) (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-functions.spicy:22:17)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:22:17) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:22:17) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:22:17)
-[debug/ast-codegen]   - expression::UnresolvedOperator %404 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%102"> (type: value_ref<foo::B>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%99"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%103"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%104"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%105"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %405 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%110"> (type: value_ref<foo::B>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%107"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%111"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%112"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%113"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %406 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%114"> (type: value_ref<foo::B>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%115"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%118"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%119"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%120"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %407 <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:25:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %408 <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:25:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %409 <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:25:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %410 <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:25:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %411 <kind="method call"> (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%39"> (type: value_ref<foo::C>) (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:25:10)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:25:10) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:25:10) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:25:10)
-[debug/ast-codegen]   - expression::UnresolvedOperator %412 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%130"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%127"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%131"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%132"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%133"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %413 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%138"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%135"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%139"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%140"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%141"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %414 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%142"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%143"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%146"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%147"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%148"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %415 <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %416 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_D_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_D_stage2">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%157"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="filtered_data">
-[debug/ast-codegen]         - operator_::value_reference::Deref <kind="*"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%157"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="filtered_data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%151"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%152"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%153"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %417 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%149"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]       - ID <name="__data">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="trim">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="trim">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - operator_::generic::Begin <kind="begin"> (non-const)
-[debug/ast-codegen]           - type::Unknown (<singleton>) (non-const)
-[debug/ast-codegen]           - expression::ResolvedID <resolved="%150"> (type: view<stream>) (non-const)
-[debug/ast-codegen]             - ID <name="__cur">
-[debug/ast-codegen]   - expression::UnresolvedOperator %418 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_foo_D_stage2">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_foo_D_stage2">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%149"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%150"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%151"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%152"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%153"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %419 <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %420 <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %421 <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %422 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%164"> (type: value_ref<foo::C>) (non-const)
-[debug/ast-codegen]       - ID <name="__transient_anon">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%158"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%159"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__cur">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%160"> (type: bool) (non-const)
-[debug/ast-codegen]           - ID <name="__trim">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%161"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="__lah">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%162"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="__lahe">
-[debug/ast-codegen]   - expression::UnresolvedOperator %423 <kind="method call"> (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%44"> (type: value_ref<foo::D>) (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:26:17-28:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:26:17-28:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:26:17-28:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %424 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%168"> (type: value_ref<foo::D>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%165"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%169"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%170"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%171"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %425 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%176"> (type: value_ref<foo::D>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%173"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%177"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%178"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%179"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %426 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%180"> (type: value_ref<foo::D>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%181"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%184"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%185"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%186"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %427 <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_init"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_init">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %428 <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_done"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_done">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %429 <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_error"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_error">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %430 <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %431 <kind="method call"> (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%50"> (type: value_ref<foo::F>) (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]       - ID <name="self"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]     - expression::Member (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ID <name="__on_0x25_finally"> (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]       - type::Member (unused-functions.spicy:31:10-33:2) (non-const)
-[debug/ast-codegen]         - ID <name="__on_0x25_finally">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (unused-functions.spicy:31:10-33:2) (const)
-[debug/ast-codegen]       - ctor::Tuple (unused-functions.spicy:31:10-33:2)
-[debug/ast-codegen]   - expression::UnresolvedOperator %432 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%196"> (type: value_ref<foo::F>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%193"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%197"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%198"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%199"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %433 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%204"> (type: value_ref<foo::F>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%201"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%205"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%206"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%207"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
-[debug/ast-codegen]   - expression::UnresolvedOperator %434 <kind="method call"> (non-const)
-[debug/ast-codegen]     - expression::ResolvedID <resolved="%208"> (type: value_ref<foo::F>) (non-const)
-[debug/ast-codegen]       - ID <name="unit">
-[debug/ast-codegen]     - expression::Member (const)
-[debug/ast-codegen]       - ID <name="__parse_stage1">
-[debug/ast-codegen]       - type::Member (non-const)
-[debug/ast-codegen]         - ID <name="__parse_stage1">
-[debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - expression::Ctor (const)
-[debug/ast-codegen]       - ctor::Tuple
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%209"> (type: value_ref<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="data">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%212"> (type: view<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="ncur">
-[debug/ast-codegen]         - expression::Ctor (const)
-[debug/ast-codegen]           - ctor::Bool <value="true">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%213"> (type: int<64>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead">
-[debug/ast-codegen]         - expression::ResolvedID <resolved="%214"> (type: iterator<stream>) (non-const)
-[debug/ast-codegen]           - ID <name="lahead_end">
 [debug/ast-codegen] # hilti: AST for codegen
 [debug/ast-codegen]   - Module %26 (hilti.hlt:2:1-38:2)
-[debug/ast-codegen]       | AddressFamily -> declaration::Type %231 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %216 <linkage="public">
-[debug/ast-codegen]       | ByteOrder -> declaration::Type %220 <linkage="public">
-[debug/ast-codegen]       | Captures -> declaration::Type %344 <linkage="public">
-[debug/ast-codegen]       | Charset -> declaration::Type %244 <linkage="public">
-[debug/ast-codegen]       | Exception -> declaration::Type %354 <linkage="public">
-[debug/ast-codegen]       | MatchState -> declaration::Type %248 <linkage="public">
-[debug/ast-codegen]       | Protocol -> declaration::Type %239 <linkage="public">
-[debug/ast-codegen]       | RealType -> declaration::Type %235 <linkage="public">
-[debug/ast-codegen]       | RuntimeError -> declaration::Type %355 <linkage="public">
-[debug/ast-codegen]       | Side -> declaration::Type %226 <linkage="public">
-[debug/ast-codegen]       | abort -> declaration::Function %352 <linkage="public">
-[debug/ast-codegen]       | current_time -> declaration::Function %350 <linkage="public">
-[debug/ast-codegen]       | debug -> declaration::Function %347 <linkage="public">
-[debug/ast-codegen]       | debugDedent -> declaration::Function %349 <linkage="public">
-[debug/ast-codegen]       | debugIndent -> declaration::Function %348 <linkage="public">
-[debug/ast-codegen]       | hilti -> declaration::Module %550 <id="hilti">
-[debug/ast-codegen]       | linker_scope -> declaration::Function %353 <linkage="public">
-[debug/ast-codegen]       | mktime -> declaration::Function %351 <linkage="public">
-[debug/ast-codegen]       | print -> declaration::Function %345 <linkage="public">
-[debug/ast-codegen]       | printValues -> declaration::Function %346 <linkage="public">
 [debug/ast-codegen]     - ID <name="hilti"> (hilti.hlt:2:8)
 [debug/ast-codegen]     - statement::Block (hilti.hlt:2:1-38:2)
 [debug/ast-codegen]     - declaration::Type %216 <linkage="public"> (hilti.hlt:4:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %524 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %525 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %526 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (hilti.hlt:4:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:4:24) (non-const) (type-id: hilti::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:4:31)
@@ -7342,11 +4137,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:4:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (hilti.hlt:4:53)
 [debug/ast-codegen]     - declaration::Type %220 <linkage="public"> (hilti.hlt:5:1)
-[debug/ast-codegen]         | Big -> declaration::Constant %528 <linkage="public">
-[debug/ast-codegen]         | Host -> declaration::Constant %530 <linkage="public">
-[debug/ast-codegen]         | Little -> declaration::Constant %527 <linkage="public">
-[debug/ast-codegen]         | Network -> declaration::Constant %529 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %531 <linkage="public">
 [debug/ast-codegen]       - ID <name="ByteOrder"> (hilti.hlt:5:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:5:25) (non-const) (type-id: hilti::ByteOrder) (cxx-id: hilti::rt::ByteOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:5:32)
@@ -7364,10 +4154,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:5:70) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::ByteOrder"> (hilti.hlt:5:70)
 [debug/ast-codegen]     - declaration::Type %226 <linkage="public"> (hilti.hlt:6:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %534 <linkage="public">
-[debug/ast-codegen]         | Left -> declaration::Constant %532 <linkage="public">
-[debug/ast-codegen]         | Right -> declaration::Constant %533 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %535 <linkage="public">
 [debug/ast-codegen]       - ID <name="Side"> (hilti.hlt:6:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:6:20) (non-const) (type-id: hilti::Side) (cxx-id: hilti::rt::bytes::Side)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:6:27)
@@ -7383,9 +4169,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:6:56) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::bytes::Side"> (hilti.hlt:6:56)
 [debug/ast-codegen]     - declaration::Type %231 <linkage="public"> (hilti.hlt:7:1)
-[debug/ast-codegen]         | IPv4 -> declaration::Constant %536 <linkage="public">
-[debug/ast-codegen]         | IPv6 -> declaration::Constant %537 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %538 <linkage="public">
 [debug/ast-codegen]       - ID <name="AddressFamily"> (hilti.hlt:7:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:7:29) (non-const) (type-id: hilti::AddressFamily) (cxx-id: hilti::rt::AddressFamily)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:7:36)
@@ -7399,9 +4182,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:7:58) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::AddressFamily"> (hilti.hlt:7:58)
 [debug/ast-codegen]     - declaration::Type %235 <linkage="public"> (hilti.hlt:8:1)
-[debug/ast-codegen]         | IEEE754_Double -> declaration::Constant %540 <linkage="public">
-[debug/ast-codegen]         | IEEE754_Single -> declaration::Constant %539 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %541 <linkage="public">
 [debug/ast-codegen]       - ID <name="RealType"> (hilti.hlt:8:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:8:24) (non-const) (type-id: hilti::RealType) (cxx-id: hilti::rt::real::Type)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:8:31)
@@ -7415,10 +4195,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:8:73) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::real::Type"> (hilti.hlt:8:73)
 [debug/ast-codegen]     - declaration::Type %239 <linkage="public"> (hilti.hlt:9:1)
-[debug/ast-codegen]         | ICMP -> declaration::Constant %544 <linkage="public">
-[debug/ast-codegen]         | TCP -> declaration::Constant %542 <linkage="public">
-[debug/ast-codegen]         | UDP -> declaration::Constant %543 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %545 <linkage="public">
 [debug/ast-codegen]       - ID <name="Protocol"> (hilti.hlt:9:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:9:24) (non-const) (type-id: hilti::Protocol) (cxx-id: hilti::rt::Protocol)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:9:31)
@@ -7434,9 +4210,6 @@
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:9:57) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::Protocol"> (hilti.hlt:9:57)
 [debug/ast-codegen]     - declaration::Type %244 <linkage="public"> (hilti.hlt:10:1)
-[debug/ast-codegen]         | ASCII -> declaration::Constant %546 <linkage="public">
-[debug/ast-codegen]         | UTF8 -> declaration::Constant %547 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %548 <linkage="public">
 [debug/ast-codegen]       - ID <name="Charset"> (hilti.hlt:10:13)
 [debug/ast-codegen]       - type::Enum (hilti.hlt:10:23) (non-const) (type-id: hilti::Charset) (cxx-id: hilti::rt::bytes::Charset)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (hilti.hlt:10:30)
@@ -7455,7 +4228,6 @@
 [debug/ast-codegen]         - type::Bytes (hilti.hlt:11:31) (non-const)
 [debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Type %248 <linkage="public"> (hilti.hlt:13:1-15:44)
-[debug/ast-codegen]         | self -> declaration::Expression %549 <linkage="private"> (type: value_ref<hilti::MatchState>)
 [debug/ast-codegen]       - ID <name="MatchState"> (hilti.hlt:13:13)
 [debug/ast-codegen]       - type::Struct (hilti.hlt:13:26-15:2) (non-const) (top-level scope) (type-id: hilti::MatchState) (cxx-id: hilti::rt::regexp::MatchState)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
@@ -7476,58 +4248,10 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (hilti.hlt:15:3)
 [debug/ast-codegen]           - expression::Ctor (hilti.hlt:15:12) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::regexp::MatchState"> (hilti.hlt:15:12)
-[debug/ast-codegen]     - declaration::Function %345 <linkage="public"> (hilti.hlt:17:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:17:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %251 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %250 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="print"> (hilti.hlt:17:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:17:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:17:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:17:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %250 <is_struct_param="false" kind="in"> (hilti.hlt:17:27)
-[debug/ast-codegen]             - ID <name="obj"> (hilti.hlt:17:31)
-[debug/ast-codegen]             - type::Any (hilti.hlt:17:27) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %251 <is_struct_param="false" kind="in"> (hilti.hlt:17:35)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:17:41)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:17:36) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:51) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:17:51)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:17:57)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:17:57)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:17:66) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::print"> (hilti.hlt:17:66)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:17:85)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %346 <linkage="public"> (hilti.hlt:18:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:18:15)
-[debug/ast-codegen]           | newline -> declaration::Parameter %253 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | t -> declaration::Parameter %252 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="printValues"> (hilti.hlt:18:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:18:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:18:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:18:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %252 <is_struct_param="false" kind="in"> (hilti.hlt:18:33)
-[debug/ast-codegen]             - ID <name="t"> (hilti.hlt:18:42)
-[debug/ast-codegen]             - type::Tuple <wildcard="true"> (hilti.hlt:18:33) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %253 <is_struct_param="false" kind="in"> (hilti.hlt:18:44)
-[debug/ast-codegen]             - ID <name="newline"> (hilti.hlt:18:50)
-[debug/ast-codegen]             - type::Bool (hilti.hlt:18:45) (non-const)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:60) (const)
-[debug/ast-codegen]               - ctor::Bool <value="true"> (hilti.hlt:18:60)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:18:66)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:18:66)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:18:75) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::printValues"> (hilti.hlt:18:75)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:18:100)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %345 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %346 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %347 <linkage="public"> (hilti.hlt:20:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:20:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %254 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | obj -> declaration::Parameter %255 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debug"> (hilti.hlt:20:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:20:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:20:16)
@@ -7549,7 +4273,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %348 <linkage="public"> (hilti.hlt:21:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:21:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %256 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugIndent"> (hilti.hlt:21:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:21:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:21:16)
@@ -7567,7 +4290,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %349 <linkage="public"> (hilti.hlt:22:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:22:15)
-[debug/ast-codegen]           | dbg_stream -> declaration::Parameter %257 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="debugDedent"> (hilti.hlt:22:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:22:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (hilti.hlt:22:16)
@@ -7583,75 +4305,9 @@
 [debug/ast-codegen]               - ctor::String <value="hilti::rt::debug::dedent"> (hilti.hlt:22:61)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:22:88)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %350 <linkage="public"> (hilti.hlt:24:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:24:15)
-[debug/ast-codegen]         - ID <name="current_time"> (hilti.hlt:24:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:24:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:24:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:24:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:24:36)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:24:36)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:24:45) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::current_time"> (hilti.hlt:24:45)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:24:77)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %351 <linkage="public"> (hilti.hlt:25:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:25:15)
-[debug/ast-codegen]           | H -> declaration::Parameter %261 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | M -> declaration::Parameter %262 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | S -> declaration::Parameter %263 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | d -> declaration::Parameter %260 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | m -> declaration::Parameter %259 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | y -> declaration::Parameter %258 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="mktime"> (hilti.hlt:25:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:25:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:25:16)
-[debug/ast-codegen]             - type::Time (hilti.hlt:25:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %258 <is_struct_param="false" kind="in"> (hilti.hlt:25:28)
-[debug/ast-codegen]             - ID <name="y"> (hilti.hlt:25:37)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:28) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %259 <is_struct_param="false" kind="in"> (hilti.hlt:25:39)
-[debug/ast-codegen]             - ID <name="m"> (hilti.hlt:25:49)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:40) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %260 <is_struct_param="false" kind="in"> (hilti.hlt:25:51)
-[debug/ast-codegen]             - ID <name="d"> (hilti.hlt:25:61)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:52) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %261 <is_struct_param="false" kind="in"> (hilti.hlt:25:63)
-[debug/ast-codegen]             - ID <name="H"> (hilti.hlt:25:73)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:64) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %262 <is_struct_param="false" kind="in"> (hilti.hlt:25:75)
-[debug/ast-codegen]             - ID <name="M"> (hilti.hlt:25:85)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:76) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %263 <is_struct_param="false" kind="in"> (hilti.hlt:25:87)
-[debug/ast-codegen]             - ID <name="S"> (hilti.hlt:25:97)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (hilti.hlt:25:88) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:25:100)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:25:100)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:25:109) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::time::mktime"> (hilti.hlt:25:109)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:25:135)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %352 <linkage="public"> (hilti.hlt:27:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:27:15)
-[debug/ast-codegen]         - ID <name="abort"> (hilti.hlt:27:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (hilti.hlt:27:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (hilti.hlt:27:16)
-[debug/ast-codegen]             - type::Void (hilti.hlt:27:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (hilti.hlt:27:29)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (hilti.hlt:27:29)
-[debug/ast-codegen]             - expression::Ctor (hilti.hlt:27:38) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::abort_with_backtrace"> (hilti.hlt:27:38)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (hilti.hlt:27:72)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %350 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %351 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %352 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %353 <linkage="public"> (hilti.hlt:29:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (hilti.hlt:29:15)
 [debug/ast-codegen]         - ID <name="linker_scope"> (hilti.hlt:29:23)
@@ -7683,43 +4339,6 @@
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::RuntimeError"> (hilti.hlt:36:47)
 [debug/ast-codegen] # spicy_rt: AST for codegen
 [debug/ast-codegen]   - Module %27 (spicy_rt.hlt:1:1-85:2)
-[debug/ast-codegen]       | Backtrack -> declaration::Type %357 <linkage="public">
-[debug/ast-codegen]       | BitOrder -> declaration::Type %327 <linkage="public">
-[debug/ast-codegen]       | Direction -> declaration::Type %283 <linkage="public">
-[debug/ast-codegen]       | Filters -> declaration::Type %363 <linkage="public">
-[debug/ast-codegen]       | FindDirection -> declaration::Type %373 <linkage="public">
-[debug/ast-codegen]       | Forward -> declaration::Type %364 <linkage="public">
-[debug/ast-codegen]       | HiltiResumable -> declaration::Type %362 <linkage="public">
-[debug/ast-codegen]       | MIMEType -> declaration::Type %374 <linkage="public">
-[debug/ast-codegen]       | ParseError -> declaration::Type %356 <linkage="public">
-[debug/ast-codegen]       | ParsedUnit -> declaration::Type %360 <linkage="public">
-[debug/ast-codegen]       | Parser -> declaration::Type %281 <linkage="public">
-[debug/ast-codegen]       | ParserPort -> declaration::Type %375 <linkage="public">
-[debug/ast-codegen]       | Sink -> declaration::Type %265 <linkage="public">
-[debug/ast-codegen]       | SinkState -> declaration::Type %359 <linkage="public">
-[debug/ast-codegen]       | TypeInfo -> declaration::Type %361 <linkage="public">
-[debug/ast-codegen]       | UnitAlreadyConnected -> declaration::Type %358 <linkage="public">
-[debug/ast-codegen]       | UnitContext -> declaration::Type %370 <linkage="public">
-[debug/ast-codegen]       | atEod -> declaration::Function %383 <linkage="public">
-[debug/ast-codegen]       | backtrack -> declaration::Function %385 <linkage="public">
-[debug/ast-codegen]       | createContext -> declaration::Function %371 <linkage="public">
-[debug/ast-codegen]       | extractBits -> declaration::Function %386 <linkage="public">
-[debug/ast-codegen]       | filter_connect -> declaration::Function %366 <linkage="public">
-[debug/ast-codegen]       | filter_disconnect -> declaration::Function %367 <linkage="public">
-[debug/ast-codegen]       | filter_forward -> declaration::Function %368 <linkage="public">
-[debug/ast-codegen]       | filter_forward_eod -> declaration::Function %369 <linkage="public">
-[debug/ast-codegen]       | filter_init -> declaration::Function %365 <linkage="public">
-[debug/ast-codegen]       | initializeParsedUnit -> declaration::Function %387 <linkage="public">
-[debug/ast-codegen]       | printParserState -> declaration::Function %377 <linkage="public">
-[debug/ast-codegen]       | registerParser -> declaration::Function %376 <linkage="public">
-[debug/ast-codegen]       | setContext -> declaration::Function %372 <linkage="public">
-[debug/ast-codegen]       | spicy_rt -> declaration::Module %560 <id="spicy_rt">
-[debug/ast-codegen]       | unit_find -> declaration::Function %384 <linkage="public">
-[debug/ast-codegen]       | waitForEod -> declaration::Function %382 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %380 <linkage="public">
-[debug/ast-codegen]       | waitForInput -> declaration::Function %381 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %378 <linkage="public">
-[debug/ast-codegen]       | waitForInputOrEod -> declaration::Function %379 <linkage="public">
 [debug/ast-codegen]     - ID <name="spicy_rt"> (spicy_rt.hlt:1:8)
 [debug/ast-codegen]     - statement::Block (spicy_rt.hlt:1:1-85:2)
 [debug/ast-codegen]     - declaration::Type %356 <linkage="public"> (spicy_rt.hlt:3:1)
@@ -7759,7 +4378,6 @@
 [debug/ast-codegen]       - type::Library <cxx_name="const hilti::rt::TypeInfo*"> (spicy_rt.hlt:11:24) (non-const) (type-id: spicy_rt::TypeInfo)
 [debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Type %265 <linkage="public"> (spicy_rt.hlt:14:1-29:30)
-[debug/ast-codegen]         | self -> declaration::Expression %551 <linkage="private"> (type: value_ref<spicy_rt::Sink>)
 [debug/ast-codegen]       - ID <name="Sink"> (spicy_rt.hlt:14:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:14:20-29:2) (non-const) (top-level scope) (type-id: spicy_rt::Sink) (cxx-id: spicy::rt::Sink)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
@@ -7961,9 +4579,6 @@
 [debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %365 <linkage="public"> (spicy_rt.hlt:36:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:36:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %269 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %268 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | unit -> declaration::Parameter %267 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_init"> (spicy_rt.hlt:36:35)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:36:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:36:16)
@@ -7990,33 +4605,9 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::init"> (spicy_rt.hlt:36:120)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:36:146)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %366 <linkage="public"> (spicy_rt.hlt:37:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:37:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %271 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %270 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_connect"> (spicy_rt.hlt:37:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:37:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:37:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:37:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %270 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:37:36)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:37:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:37:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %271 <is_struct_param="false" kind="in"> (spicy_rt.hlt:37:51)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:37:66)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:37:52) (non-const) (wildcard)
-[debug/ast-codegen]               - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:37:74)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:37:74)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:37:83) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::connect"> (spicy_rt.hlt:37:83)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:37:112)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %366 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %367 <linkage="public"> (spicy_rt.hlt:38:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:38:15)
-[debug/ast-codegen]           | unit -> declaration::Parameter %272 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_disconnect"> (spicy_rt.hlt:38:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:38:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:38:16)
@@ -8032,32 +4623,9 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::disconnect"> (spicy_rt.hlt:38:64)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:38:96)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %368 <linkage="public"> (spicy_rt.hlt:39:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:39:15)
-[debug/ast-codegen]           | b -> declaration::Parameter %274 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filter -> declaration::Parameter %273 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="filter_forward"> (spicy_rt.hlt:39:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:39:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:39:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:39:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %273 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:39:36)
-[debug/ast-codegen]             - ID <name="filter"> (spicy_rt.hlt:39:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:39:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %274 <is_struct_param="false" kind="in"> (spicy_rt.hlt:39:53)
-[debug/ast-codegen]             - ID <name="b"> (spicy_rt.hlt:39:60)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:39:54) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:39:63)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:39:63)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:39:72) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::filter::forward"> (spicy_rt.hlt:39:72)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:39:101)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %368 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %369 <linkage="public"> (spicy_rt.hlt:40:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:40:15)
-[debug/ast-codegen]           | filter -> declaration::Parameter %275 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="filter_forward_eod"> (spicy_rt.hlt:40:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:40:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:40:16)
@@ -8077,64 +4645,9 @@
 [debug/ast-codegen]       - ID <name="UnitContext"> (spicy_rt.hlt:42:13)
 [debug/ast-codegen]       - type::Library <cxx_name="spicy::rt::UnitContext"> (spicy_rt.hlt:42:27) (non-const) (type-id: spicy_rt::UnitContext)
 [debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %371 <linkage="public"> (spicy_rt.hlt:43:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:43:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %276 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %277 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="createContext"> (spicy_rt.hlt:43:28)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:43:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:43:16)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:43:16) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:43:16)
-[debug/ast-codegen]           - declaration::Parameter %276 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:42)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:43:46)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:43:42) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %277 <is_struct_param="false" kind="in"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:43:60)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%361"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:43:50) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:43:50)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:43:64)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:43:64)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:43:73) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::createContext"> (spicy_rt.hlt:43:73)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:43:108)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %372 <linkage="public"> (spicy_rt.hlt:44:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:44:15)
-[debug/ast-codegen]           | ctx -> declaration::Parameter %279 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | ti -> declaration::Parameter %280 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %278 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="setContext"> (spicy_rt.hlt:44:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:44:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:44:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:44:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %278 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:44:32)
-[debug/ast-codegen]             - ID <name="unit"> (spicy_rt.hlt:44:42)
-[debug/ast-codegen]             - type::Any (spicy_rt.hlt:44:38) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %279 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:47)
-[debug/ast-codegen]             - ID <name="ctx"> (spicy_rt.hlt:44:70)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%370"> (type: spicy_rt::UnitContext) (spicy_rt.hlt:44:48) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::UnitContext"> (spicy_rt.hlt:44:48)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %280 <is_struct_param="false" kind="in"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - ID <name="ti"> (spicy_rt.hlt:44:84)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%361"> (type: spicy_rt::TypeInfo) (spicy_rt.hlt:44:74) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::TypeInfo"> (spicy_rt.hlt:44:74)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:44:88)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:44:88)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:44:97) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::setContext"> (spicy_rt.hlt:44:97)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:44:129)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %371 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %372 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Type %281 <linkage="public"> (spicy_rt.hlt:48:1-58:32)
-[debug/ast-codegen]         | self -> declaration::Expression %552 <linkage="private"> (type: value_ref<spicy_rt::Parser>)
 [debug/ast-codegen]       - ID <name="Parser"> (spicy_rt.hlt:48:13)
 [debug/ast-codegen]       - type::Struct (spicy_rt.hlt:48:22-58:2) (non-const) (top-level scope) (type-id: spicy_rt::Parser) (cxx-id: spicy::rt::Parser)
 [debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
@@ -8200,10 +4713,6 @@
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:58:12) (const)
 [debug/ast-codegen]             - ctor::String <value="spicy::rt::Parser"> (spicy_rt.hlt:58:12)
 [debug/ast-codegen]     - declaration::Type %283 <linkage="public"> (spicy_rt.hlt:60:1)
-[debug/ast-codegen]         | Both -> declaration::Constant %555 <linkage="public">
-[debug/ast-codegen]         | Originator -> declaration::Constant %553 <linkage="public">
-[debug/ast-codegen]         | Responder -> declaration::Constant %554 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %556 <linkage="public">
 [debug/ast-codegen]       - ID <name="Direction"> (spicy_rt.hlt:60:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:60:25) (non-const) (type-id: spicy_rt::Direction) (cxx-id: spicy::rt::Direction)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:60:32)
@@ -8232,9 +4741,6 @@
 [debug/ast-codegen]       - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %376 <linkage="public"> (spicy_rt.hlt:65:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:65:15)
-[debug/ast-codegen]           | instance -> declaration::Parameter %290 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | linker_scope -> declaration::Parameter %289 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | parse_func -> declaration::Parameter %288 <is_struct_param="false" kind="inout">
 [debug/ast-codegen]         - ID <name="registerParser"> (spicy_rt.hlt:65:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:65:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:65:16)
@@ -8261,13 +4767,6 @@
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %377 <linkage="public"> (spicy_rt.hlt:66:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:66:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %293 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %292 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead -> declaration::Parameter %294 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | lahead_end -> declaration::Parameter %295 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | literal_mode -> declaration::Parameter %296 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | trim -> declaration::Parameter %297 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit_id -> declaration::Parameter %291 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="printParserState"> (spicy_rt.hlt:66:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:66:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:66:16)
@@ -8309,286 +4808,15 @@
 [debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::printParserState"> (spicy_rt.hlt:66:182)
 [debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:66:220)
 [debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %378 <linkage="public"> (spicy_rt.hlt:68:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:68:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %299 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %298 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %300 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:68:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:68:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:68:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:68:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %298 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:68:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:68:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:55) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %299 <is_struct_param="false" kind="in"> (spicy_rt.hlt:68:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:68:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:68:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:68:74)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %300 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:68:87)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:68:113)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:68:93) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:68:93)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:68:122)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:68:122)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:68:131) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:68:131)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:68:170)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %379 <linkage="public"> (spicy_rt.hlt:69:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:69:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %302 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %301 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %304 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | n -> declaration::Parameter %303 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInputOrEod"> (spicy_rt.hlt:69:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:69:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:69:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:69:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %301 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:39)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:69:63)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:69:45) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:55) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %302 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:68)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:69:82)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:69:74) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:69:74)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %303 <is_struct_param="false" kind="in"> (spicy_rt.hlt:69:86)
-[debug/ast-codegen]             - ID <name="n"> (spicy_rt.hlt:69:96)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:69:87) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %304 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:69:99)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:69:125)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:69:105) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:69:105)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:69:134)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:69:134)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:69:143) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInputOrEod"> (spicy_rt.hlt:69:143)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:69:182)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %380 <linkage="public"> (spicy_rt.hlt:70:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:70:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %306 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %305 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %307 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %309 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | location -> declaration::Parameter %308 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:70:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:70:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:70:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:70:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %305 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:70:34)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:70:58)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:70:40) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:70:50) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %306 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:63)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:70:77)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:70:69) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:70:69)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %307 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:81)
-[debug/ast-codegen]             - ID <name="error_msg"> (spicy_rt.hlt:70:89)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:70:82) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %308 <is_struct_param="false" kind="in"> (spicy_rt.hlt:70:99)
-[debug/ast-codegen]             - ID <name="location"> (spicy_rt.hlt:70:107)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:70:100) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %309 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:70:117)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:70:143)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:70:123) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:70:123) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:70:123)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:70:152)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:70:152)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:70:161) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInput"> (spicy_rt.hlt:70:161)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:70:195)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %381 <linkage="public"> (spicy_rt.hlt:71:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:71:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %311 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %310 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | error_msg -> declaration::Parameter %313 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | filters -> declaration::Parameter %315 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | location -> declaration::Parameter %314 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | n -> declaration::Parameter %312 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="waitForInput"> (spicy_rt.hlt:71:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:71:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:71:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:71:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %310 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:71:34)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:71:58)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:71:40) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:71:50) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %311 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:63)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:71:77)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:71:69) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:71:69)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %312 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:81)
-[debug/ast-codegen]             - ID <name="n"> (spicy_rt.hlt:71:91)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:71:82) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %313 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:93)
-[debug/ast-codegen]             - ID <name="error_msg"> (spicy_rt.hlt:71:101)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:71:94) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %314 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:111)
-[debug/ast-codegen]             - ID <name="location"> (spicy_rt.hlt:71:119)
-[debug/ast-codegen]             - type::String (spicy_rt.hlt:71:112) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %315 <is_struct_param="false" kind="in"> (spicy_rt.hlt:71:128)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:71:149)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:71:129) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:71:129) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:71:129)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:71:158)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:71:158)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:71:167) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForInput"> (spicy_rt.hlt:71:167)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:71:201)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %382 <linkage="public"> (spicy_rt.hlt:72:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:72:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %317 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %316 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %318 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="waitForEod"> (spicy_rt.hlt:72:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:72:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:72:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:72:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %316 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:32)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:72:56)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:72:38) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:48) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %317 <is_struct_param="false" kind="in"> (spicy_rt.hlt:72:61)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:72:75)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:72:67) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:72:67)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %318 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:72:80)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:72:106)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:72:86) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:72:86)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:72:115)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:72:115)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:72:124) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::waitForEod"> (spicy_rt.hlt:72:124)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:72:156)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %383 <linkage="public"> (spicy_rt.hlt:73:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:73:15)
-[debug/ast-codegen]           | cur -> declaration::Parameter %320 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | data -> declaration::Parameter %319 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | filters -> declaration::Parameter %321 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]         - ID <name="atEod"> (spicy_rt.hlt:73:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:73:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:73:16)
-[debug/ast-codegen]             - type::Bool (spicy_rt.hlt:73:16) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %319 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:27)
-[debug/ast-codegen]             - ID <name="data"> (spicy_rt.hlt:73:51)
-[debug/ast-codegen]             - type::ValueReference (spicy_rt.hlt:73:33) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:43) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %320 <is_struct_param="false" kind="in"> (spicy_rt.hlt:73:56)
-[debug/ast-codegen]             - ID <name="cur"> (spicy_rt.hlt:73:70)
-[debug/ast-codegen]             - type::stream::View (spicy_rt.hlt:73:62) (non-const)
-[debug/ast-codegen]               - type::Stream (spicy_rt.hlt:73:62)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %321 <is_struct_param="false" kind="inout"> (spicy_rt.hlt:73:75)
-[debug/ast-codegen]             - ID <name="filters"> (spicy_rt.hlt:73:101)
-[debug/ast-codegen]             - type::StrongReference (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]               - type::ResolvedID <resolved="%363"> (type: spicy_rt::Filters) (spicy_rt.hlt:73:81) (non-const)
-[debug/ast-codegen]                 - ID <name="spicy_rt::Filters"> (spicy_rt.hlt:73:81)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:73:110)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:73:110)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:73:119) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::atEod"> (spicy_rt.hlt:73:119)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:73:146)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %384 <linkage="public"> (spicy_rt.hlt:75:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:75:15)
-[debug/ast-codegen]           | begin_ -> declaration::Parameter %322 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | dir -> declaration::Parameter %326 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | end_ -> declaration::Parameter %323 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | i -> declaration::Parameter %324 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | needle -> declaration::Parameter %325 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="unit_find"> (spicy_rt.hlt:75:43)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:75:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:75:16)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:16) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:34) (non-const)
-[debug/ast-codegen]           - declaration::Parameter %322 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:53)
-[debug/ast-codegen]             - ID <name="begin_"> (spicy_rt.hlt:75:70)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:62) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %323 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:77)
-[debug/ast-codegen]             - ID <name="end_"> (spicy_rt.hlt:75:95)
-[debug/ast-codegen]             - type::stream::Iterator (spicy_rt.hlt:75:87) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %324 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:100)
-[debug/ast-codegen]             - ID <name="i"> (spicy_rt.hlt:75:128)
-[debug/ast-codegen]             - type::Optional (spicy_rt.hlt:75:101) (non-const)
-[debug/ast-codegen]               - type::stream::Iterator (spicy_rt.hlt:75:119) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %325 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:130)
-[debug/ast-codegen]             - ID <name="needle"> (spicy_rt.hlt:75:137)
-[debug/ast-codegen]             - type::Bytes (spicy_rt.hlt:75:131) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %326 <is_struct_param="false" kind="in"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - ID <name="dir"> (spicy_rt.hlt:75:159)
-[debug/ast-codegen]             - type::ResolvedID <resolved="%373"> (type: spicy_rt::FindDirection) (spicy_rt.hlt:75:144) (non-const)
-[debug/ast-codegen]               - ID <name="spicy_rt::FindDirection"> (spicy_rt.hlt:75:144)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:75:164)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:75:164)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:75:173) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::unitFind"> (spicy_rt.hlt:75:173)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:75:203)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]     - declaration::Function %385 <linkage="public"> (spicy_rt.hlt:77:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:77:15)
-[debug/ast-codegen]         - ID <name="backtrack"> (spicy_rt.hlt:77:21)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:77:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:77:16)
-[debug/ast-codegen]             - type::Void (spicy_rt.hlt:77:16) (non-const)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:77:33)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:77:33)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:77:42) (const)
-[debug/ast-codegen]               - ctor::String <value="spicy::rt::detail::backtrack"> (spicy_rt.hlt:77:42)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:77:73)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %378 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %379 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %380 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %381 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %382 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %383 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %384 (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %385 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Type %327 <linkage="public"> (spicy_rt.hlt:79:1)
-[debug/ast-codegen]         | LSB0 -> declaration::Constant %557 <linkage="public">
-[debug/ast-codegen]         | MSB0 -> declaration::Constant %558 <linkage="public">
-[debug/ast-codegen]         | Undef -> declaration::Constant %559 <linkage="public">
 [debug/ast-codegen]       - ID <name="BitOrder"> (spicy_rt.hlt:79:13)
 [debug/ast-codegen]       - type::Enum (spicy_rt.hlt:79:24) (non-const) (type-id: spicy_rt::BitOrder) (cxx-id: hilti::rt::integer::BitOrder)
 [debug/ast-codegen]         - type::enum_::Label <value="0"> (spicy_rt.hlt:79:31)
@@ -8601,44 +4829,9 @@
 [debug/ast-codegen]         - Attribute <tag="&cxxname"> (spicy_rt.hlt:79:44)
 [debug/ast-codegen]           - expression::Ctor (spicy_rt.hlt:79:53) (const)
 [debug/ast-codegen]             - ctor::String <value="hilti::rt::integer::BitOrder"> (spicy_rt.hlt:79:53)
-[debug/ast-codegen]     - declaration::Function %386 <linkage="public"> (spicy_rt.hlt:81:1)
-[debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:81:15)
-[debug/ast-codegen]           | lower -> declaration::Parameter %332 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | order -> declaration::Parameter %334 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | upper -> declaration::Parameter %333 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | v -> declaration::Parameter %331 <is_struct_param="false" kind="in">
-[debug/ast-codegen]         - ID <name="extractBits"> (spicy_rt.hlt:81:24)
-[debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:81:15) (non-const)
-[debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:81:16)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:16) (non-const) (wildcard)
-[debug/ast-codegen]           - declaration::Parameter %331 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:36)
-[debug/ast-codegen]             - ID <name="v"> (spicy_rt.hlt:81:44)
-[debug/ast-codegen]             - type::UnsignedInteger <width="0"> (spicy_rt.hlt:81:36) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %332 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:46)
-[debug/ast-codegen]             - ID <name="lower"> (spicy_rt.hlt:81:56)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:47) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %333 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:62)
-[debug/ast-codegen]             - ID <name="upper"> (spicy_rt.hlt:81:72)
-[debug/ast-codegen]             - type::UnsignedInteger <width="64"> (spicy_rt.hlt:81:63) (non-const)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]           - declaration::Parameter %334 <is_struct_param="false" kind="in"> (spicy_rt.hlt:81:78)
-[debug/ast-codegen]             - ID <name="order"> (spicy_rt.hlt:81:87)
-[debug/ast-codegen]             - type::Enum (spicy_rt.hlt:81:79) (non-const) (wildcard)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - node::None (unused-functions.spicy:14:1)
-[debug/ast-codegen]         - AttributeSet (spicy_rt.hlt:81:94)
-[debug/ast-codegen]           - Attribute <tag="&cxxname"> (spicy_rt.hlt:81:94)
-[debug/ast-codegen]             - expression::Ctor (spicy_rt.hlt:81:103) (const)
-[debug/ast-codegen]               - ctor::String <value="hilti::rt::integer::bits"> (spicy_rt.hlt:81:103)
-[debug/ast-codegen]           - Attribute <tag="&have_prototype"> (spicy_rt.hlt:81:130)
-[debug/ast-codegen]             - node::None (unused-functions.spicy:14:1)
+[debug/ast-codegen]     - node::None %386 (unused-functions.spicy:14:1)
 [debug/ast-codegen]     - declaration::Function %387 <linkage="public"> (spicy_rt.hlt:83:1)
 [debug/ast-codegen]       - Function <cc="<standard>"> (spicy_rt.hlt:83:15)
-[debug/ast-codegen]           | punit -> declaration::Parameter %335 <is_struct_param="false" kind="inout">
-[debug/ast-codegen]           | ti -> declaration::Parameter %337 <is_struct_param="false" kind="in">
-[debug/ast-codegen]           | unit -> declaration::Parameter %336 <is_struct_param="false" kind="in">
 [debug/ast-codegen]         - ID <name="initializeParsedUnit"> (spicy_rt.hlt:83:21)
 [debug/ast-codegen]         - type::Function <flavor="standard"> (spicy_rt.hlt:83:15) (non-const)
 [debug/ast-codegen]           - type::function::Result (spicy_rt.hlt:83:16)
